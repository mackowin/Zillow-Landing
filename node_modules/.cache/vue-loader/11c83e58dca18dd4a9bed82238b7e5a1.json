{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/MVPs/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/MVPs/src/ideas/green-card/GreenCardApplication.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/MVPs/src/ideas/green-card/GreenCardApplication.vue","mtime":1669230277920},{"path":"/Users/nataliamackowiak/Documents/Startup/MVPs/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/MVPs/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/MVPs/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/MVPs/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHsKICAgICAgICBmaXJzdExhc3ROYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcmVzaWRlbmNlOiAnJywKICAgICAgICB2aXNhOiAnJywKICAgICAgICBiaXJ0aDogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIGRvY3VtZW50OiAnJywKICAgICAgICBmaWxlTmFtZTogJycKICAgICAgfSwKICAgICAgc3VibWl0dGVkOiBmYWxzZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgYWNjb3VudDogc3RhdGUgPT4gc3RhdGUuYWNjb3VudCwKICAgIH0pCiAgfSwKICB3YXRjaDogewogICAgJ2FjY291bnQuc3RhdHVzJzogZnVuY3Rpb24gKHZhbCkgewogICAgICBpZih2YWwuYXBwbGllZCkKICAgICAgICB0aGlzLmdvVG9GaW5hbFBhZ2UoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoJ2FjY291bnQnLCBbJ2FwcGx5J10pLAogICAgaGFuZGxlU3VibWl0KCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpLnRoZW4oc3VjY2VzcyA9PiB7CiAgICAgICAgaWYgKCFzdWNjZXNzIHx8ICF0aGlzLnVzZXIuZG9jdW1lbnQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5hcHBseSh0aGlzLnVzZXIpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRJbWFnZSgpIHsKICAgICAgdGhpcy5nZXRCYXNlNjQodGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdKTsKICAgIH0sCiAgICBnZXRCYXNlNjQoZmlsZSkgewogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOwogICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnN0IHJlcyA9IHJlYWRlci5yZXN1bHQ7CiAgICAgICAgc2VsZi51c2VyLmRvY3VtZW50ID0gcmVzOwogICAgICAgIHNlbGYudXNlci5maWxlTmFtZSA9IHNlbGYuJHJlZnMuZmlsZS5maWxlc1swXS5uYW1lOwogICAgICB9OwogICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcjogJywgZXJyb3IpOwogICAgICB9OwogICAgfSwKICAgIGdvVG9GaW5hbFBhZ2UoKXsKICAgICAgaWYoKHRoaXMudXNlci5iaXJ0aCA9PT0gJ0NoaW5hJyB8fCB0aGlzLnVzZXIuYmlydGggPT09ICdJbmRpYScpICYmIHRoaXMudXNlci5maXJzdExhc3ROYW1lICYmIHRoaXMudXNlci5lbWFpbCAmJiB0aGlzLnVzZXIucmVzaWRlbmNlICYmIHRoaXMudXNlci52aXNhICYmIHRoaXMudXNlci5kb2N1bWVudCkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jb25maXJtZWQnKTsKICAgICAgfSBlbHNlIGlmICgodGhpcy51c2VyLmJpcnRoID09PSAnQ291bnRyeSBpbiBFdXJvcGUnIHx8IHRoaXMudXNlci5iaXJ0aCA9PT0gJ0NvdW50cnkgaW4gU291dGggQW1lcmljYScgfHwgdGhpcy51c2VyLmJpcnRoID09PSAnT3RoZXInKSAmJiB0aGlzLnVzZXIuZmlyc3RMYXN0TmFtZSAmJiB0aGlzLnVzZXIuZW1haWwgJiYgdGhpcy51c2VyLnJlc2lkZW5jZSAmJiB0aGlzLnVzZXIudmlzYSAmJiB0aGlzLnVzZXIuZG9jdW1lbnQpIHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY29uZmlybWF0aW9uJyk7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["GreenCardApplication.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GreenCardApplication.vue","sourceRoot":"src/ideas/green-card","sourcesContent":["<template>\n  <div>\n    <div class=\"jumbotron\" style=\"height: 100%; background: rgb(249, 246, 246)\">\n        <div class=\"container register\">\n            <div class=\"row\">\n                <div class=\"col-lg-6 col-md-8 col-sm-12 offset-lg-3 offset-md-2\">\n                    <h3>How much it will cost me?</h3>\n                    <div class=\"subject-subcategories\" style=\"text-align: left\">\n                        <div class=\"register-conditions\" style=\"font-weight: 400; text-align: justify; text-justify: inter-word;\">\n                            Provide details about your case to get personalized price assessment\n                        </div>\n                    </div>\n\n                    <ValidationObserver ref=\"form\">\n                        <form @submit.prevent=\"handleSubmit\" novalidate>\n                            <div class=\"form-group\">\n                                <label for=\"firstLastName\">Name</label>\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                    <input type=\"text\" v-model=\"user.firstLastName\"  name=\"firstLastName\" class=\"form-control\" :class=\"{ 'is-invalid':  submitted && errors.length }\" />\n                                    <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Name is required</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"email\">E-mail</label>\n                                <ValidationProvider rules=\"required|email\" v-slot=\"{ errors }\" >\n                                    <input type=\"text\" v-model=\"user.email\"  name=\"email\" class=\"form-control\" aria-describedby=\"emailHelp\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                                    <div v-if=\"submitted && errors.includes('required')\" class=\"invalid-feedback\">Email is required</div>\n                                    <div v-if=\"submitted && errors.includes('email')\" class=\"invalid-feedback\">Email has wrong format</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"residence\">Where are you currently residing?</label>\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                    <select v-model=\"user.residence\" id=\"residence\" name=\"residence\" class=\"form-control\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                                        <option>USA</option>\n                                        <option>Overseas</option>\n                                    </select>\n                                    <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Current residence is required</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"visa\">What US visa do you hold?</label>\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                    <input type=\"text\" v-model=\"user.visa\"  name=\"visa\" class=\"form-control\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                                    <div v-if=\"submitted && errors.includes('required')\" class=\"invalid-feedback\">Visa is required</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"birth\">Country of birth</label>\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                    <select v-model=\"user.birth\" id=\"birth\" name=\"birth\" class=\"form-control\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                                        <option>Country in Europe</option>\n                                        <option>Country in South America</option>\n                                        <option>China</option>\n                                        <option>India</option>\n                                        <option>Other</option>\n                                    </select>\n                                    <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Country of birth is required</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"description\">Describe your case</label>\n                                <textarea v-model=\"user.description\" name=\"description\" rows=\"5\" class=\"form-control\" />\n                            </div>\n\n                            <div class=\"form-group icon-container\" style=\"margin-top: 1rem\">\n                                <label for=\"upload\" class=\"icon\" style=\"font-size: 2.5rem; cursor: pointer;\"><font-awesome-icon icon=\"file-upload\" />\n                                    <span class=\"icon\" style=\"font-size: 14px; margin-left: 10px;\">Upload Resume</span>\n                                </label>\n\n                              <input type=\"file\" class=\"form-control-file\" id=\"upload\" ref=\"file\" @change=\"setImage\"  style=\"display: none;\" :class=\"{ 'is-invalid':  submitted && !user.document }\">\n                              <div v-if=\"submitted && !user.document\" class=\"invalid-feedback\">Resume or CV is required</div>\n                              <p class=\"register-conditions\" style=\"font-weight: 400\" v-if=\"user.document\">Uploaded: {{this.$refs.file.files[0].name}}</p>\n\n                            </div>\n\n                            <div class=\"btn-container\">\n                                <router-link to=\"/\" class=\"btn btn-border btn-cancel\">Cancel</router-link>\n                                <button class=\"btn btn-primary btn-border btn-save\" :disabled=\"account.status.applying\">SUBMIT\n                                    <img v-show=\"account.status.applying\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                                </button>\n                            </div>\n                        </form>\n                    </ValidationObserver>\n\n                </div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  data () {\n    return {\n      user: {\n        firstLastName: '',\n        email: '',\n        residence: '',\n        visa: '',\n        birth: '',\n        description: '',\n        document: '',\n        fileName: ''\n      },\n      submitted: false\n    }\n  },\n  computed: {\n    ...mapState({\n      account: state => state.account,\n    })\n  },\n  watch: {\n    'account.status': function (val) {\n      if(val.applied)\n        this.goToFinalPage();\n    }\n  },\n  methods: {\n    ...mapActions('account', ['apply']),\n    handleSubmit() {\n      this.submitted = true;\n      this.$refs.form.validate().then(success => {\n        if (!success || !this.user.document) {\n          return;\n        }\n        this.apply(this.user);\n      });\n    },\n    setImage() {\n      this.getBase64(this.$refs.file.files[0]);\n    },\n    getBase64(file) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n      const self = this;\n      reader.onload = function () {\n        const res = reader.result;\n        self.user.document = res;\n        self.user.fileName = self.$refs.file.files[0].name;\n      };\n      reader.onerror = function (error) {\n        console.log('Error: ', error);\n      };\n    },\n    goToFinalPage(){\n      if((this.user.birth === 'China' || this.user.birth === 'India') && this.user.firstLastName && this.user.email && this.user.residence && this.user.visa && this.user.document) {\n          this.$router.push('/confirmed');\n      } else if ((this.user.birth === 'Country in Europe' || this.user.birth === 'Country in South America' || this.user.birth === 'Other') && this.user.firstLastName && this.user.email && this.user.residence && this.user.visa && this.user.document) {\n          this.$router.push('/confirmation');\n      }\n    }\n  }\n};\n</script>\n"]}]}