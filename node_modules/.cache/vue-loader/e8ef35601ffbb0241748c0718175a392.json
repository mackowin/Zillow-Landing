{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/BioPopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/BioPopup.vue","mtime":1651859070642},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwQWN0aW9ucywgbWFwU3RhdGV9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYmlvOiAnJywKICAgICAgICAgICAgc3VibWl0dGVkOiBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICdhY2NvdW50LnN0YXR1cyc6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgaWYodmFsLnVwZGF0ZWRCaW8pCiAgICAgICAgICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoJ2Jpby1tb2RhbCcpOwogICAgICAgIH0KICAgIH0sCiAgICBwcm9wczogWydwcm9maWxlUHJvcCddLAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBTdGF0ZSh7CiAgICAgICAgICAgIGFsZXJ0OiBzdGF0ZSA9PiBzdGF0ZS5hbGVydCwKICAgICAgICAgICAgYWNjb3VudDogc3RhdGUgPT4gc3RhdGUuYWNjb3VudCwKICAgICAgICB9KSwKICAgICAgICBjb3VudDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgc3RyID0gdGhpcy5iaW87CiAgICAgICAgICAgIGlmKHRoaXMuYmlvKXsKICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8oXlxzKil8KFxzKiQpL2dpLCIiKTsKICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9bIF17Mix9L2dpLCIgIik7CiAgICAgICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvXG4gLywiXG4iKTsKICAgICAgICAgICAgICAgIHJldHVybiBzdHIuc3BsaXQoJyAnKS5sZW5ndGg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSByZXR1cm4gMAogICAgICAgIH0sCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoJ2FjY291bnQnLCBbJ3VwZGF0ZUJpbyddKSwKICAgICAgICAuLi5tYXBBY3Rpb25zKCdhbGVydCcsIFsnY2xlYXInXSksCiAgICAgICAgaW5pdE1vZGFsKCkgewogICAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmJpbyA9IHRoaXMucHJvZmlsZVByb3AucHJvZmlsZS5iaW87CiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICB9LAogICAgICAgIHNhdmVGb3JtKCl7CiAgICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkudGhlbihzdWNjZXNzID0+IHsKICAgICAgICAgICAgICAgIGlmICghc3VjY2VzcyB8fCB0aGlzLmNvdW50ID4gMTYwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCaW8odGhpcy5iaW8pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgfQogICAgfQp9Cgo="},{"version":3,"sources":["BioPopup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"BioPopup.vue","sourceRoot":"src/components/profile/popups","sourcesContent":["<template>\n    <b-modal  @show=\"initModal\"  id=\"bio-modal\" title=\"Bio\" hide-footer>\n        <div v-if=\"alert.failed\" :class=\"`alert ${alert.type}`\">{{alert.message}}</div>\n        <ValidationObserver ref=\"form\">\n            <form id=\"bio-popup\" class=\"cms bio\" @submit.prevent=\"saveForm\" novalidate>\n                <div class=\"form-group\">\n                    <label for=\"bio\">Your bio - max 160 words *</label>\n                    <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                        <textarea class=\"form-control\" id=\"bio\" rows=\"10\" v-model=\"bio\" placeholder=\"Tell parents and students about your tutoring background\" :class=\"{ 'is-invalid':  submitted && (errors.length || count > 160) }\"></textarea>\n                        <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Bio is required</div>\n                    </ValidationProvider>\n                    <div :style=\"[count > 160 ? {'color': '#dc3545'} : {'color': '#949494'}]\" class=\"count-words\"><span id=\"show\">{{count}}</span> /160</div>\n                </div>\n\n                <div class=\"btn-container\">\n                    <a class=\"btn btn-primary btn-border btn-cancel\" @click=\"$bvModal.hide('bio-modal')\">Cancel</a>\n                    <button type=\"submit\" class=\"btn btn-primary btn-border btn-save\"  :disabled=\"account.status.updatingBio\">Save\n                        <img v-show=\"account.status.updatingBio\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                    </button>\n                </div>\n            </form>\n        </ValidationObserver>\n    </b-modal>\n</template>\n\n\n\n\n<script>\n  import {mapActions, mapState} from \"vuex\";\n\n  export default {\n      data () {\n          return {\n              bio: '',\n              submitted: false\n          }\n      },\n      watch: {\n          'account.status': function (val) {\n              if(val.updatedBio)\n                  this.$bvModal.hide('bio-modal');\n          }\n      },\n      props: ['profileProp'],\n      computed: {\n          ...mapState({\n              alert: state => state.alert,\n              account: state => state.account,\n          }),\n          count: function () {\n              var str = this.bio;\n              if(this.bio){\n                  str = str.replace(/(^\\s*)|(\\s*$)/gi,\"\");\n                  str = str.replace(/[ ]{2,}/gi,\" \");\n                  str = str.replace(/\\n /,\"\\n\");\n                  return str.split(' ').length;\n              }\n              else return 0\n          },\n      },\n      methods: {\n          ...mapActions('account', ['updateBio']),\n          ...mapActions('alert', ['clear']),\n          initModal() {\n              this.submitted = false;\n              this.bio = this.profileProp.profile.bio;\n              this.clear();\n          },\n          saveForm(){\n              this.submitted = true;\n              this.$refs.form.validate().then(success => {\n                  if (!success || this.count > 160) {\n                      return;\n                  }\n                  this.updateBio(this.bio);\n              });\n\n          }\n      }\n  }\n\n</script>\n"]}]}