{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ContactPopupRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ContactPopupRegister.vue","mtime":1651859070643},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgY29uZmlnICBmcm9tICIuLi8uLi8uLi9jb25maWcvY29uZmlnIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdDb250YWN0UG9wdXBSZWdpc3RlcicsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvbnRhY3RfbmFtZTogJycsCiAgICAgICAgICAgIGNvbnRhY3RfZW1haWw6ICcnLAogICAgICAgICAgICBjb250YWN0X21lc3NhZ2U6ICcnLAogICAgICAgICAgICBzaG93X2NvbnRhY3Q6IHRydWUsCiAgICAgICAgICAgIGNvbnRhY3Rfbm90aWNlOiAnJwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgc2VuZENvbnRhY3RNZXNzYWdlKCkgewogICAgICAgICAgICBpZighdGhpcy52YWxpZGF0ZUVtYWlsKHRoaXMuY29udGFjdF9lbWFpbCkpIHsKICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdF9ub3RpY2UgPSAiVGhlIGVtYWlsIGFkZHJlc3MgaXMgYmFkbHkgZm9ybWF0dGVkLiI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgJHtjb25maWcuYXBpVXJsfS9jb250YWN0L2xhbmRpbmdgOwogICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyJDb250ZW50LVR5cGUiIDogImFwcGxpY2F0aW9uL2pzb24ifSwKICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IHRoaXMuY29udGFjdF9uYW1lLCBlbWFpbDogdGhpcy5jb250YWN0X2VtYWlsLCBtZXNzYWdlOiB0aGlzLmNvbnRhY3RfbWVzc2FnZSB9KQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZldGNoKHVybCwgcmVxdWVzdE9wdGlvbnMpLnRoZW4odGhpcy5oYW5kbGVSZXNwb25zZSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdmFsaWRhdGVFbWFpbChlbWFpbCkgewogICAgICAgICAgICB2YXIgcmUgPSAvXFMrQFxTK1wuXFMrLzsKICAgICAgICAgICAgcmV0dXJuIHJlLnRlc3QoU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZVJlc3BvbnNlKCkgewogICAgICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoJ2NvbnRhY3RSZWdpc3Rlci1tb2RhbCcpCiAgICAgICAgfSwKICAgICAgICBpbml0TW9kYWwoKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd19jb250YWN0ID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5jb250YWN0X25hbWUgPSAnJzsKICAgICAgICAgICAgdGhpcy5jb250YWN0X2VtYWlsID0gJyc7CiAgICAgICAgICAgIHRoaXMuY29udGFjdF9tZXNzYWdlID0gJyc7CiAgICAgICAgICAgIHRoaXMuY29udGFjdF9ub3RpY2UgPSAnJzsKICAgICAgICB9CgogICAgfQp9Cg=="},{"version":3,"sources":["ContactPopupRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ContactPopupRegister.vue","sourceRoot":"src/components/profile/popups","sourcesContent":["<template>\n\n    <b-modal @show=\"initModal\"  id=\"contactRegister-modal\" title=\"Contact us\" hide-footer>\n        <div v-if=\"show_contact && contact_notice != ''\" class=\"alert alert-warning\">\n            There was a problem submitting your message. {{ contact_notice }}\n        </div>\n\n        <form v-if=\"show_contact\" id=\"contactRegisterModal\" @submit.prevent=\"sendContactMessage()\">\n            <div class=\"row\">\n                <div class=\"col-lg-12 col-md-12\">\n                    <div class=\"form-group\">\n                        <input type=\"text\" v-model=\"contact_name\" name=\"name\" id=\"name\" class=\"form-control\" required data-error=\"Please enter your name\" placeholder=\"Name\">\n                        <div class=\"help-block with-errors\"></div>\n                    </div>\n                </div>\n\n                <div class=\"col-lg-12 col-md-12\">\n                    <div class=\"form-group\">\n                        <input type=\"email\" v-model=\"contact_email\" name=\"email\" id=\"email\" class=\"form-control\" required data-error=\"Please enter your email\" placeholder=\"Email\">\n                        <div class=\"help-block with-errors\"></div>\n                    </div>\n                </div>\n\n                <div class=\"col-lg-12 col-md-12\">\n                    <div class=\"form-group\">\n                        <textarea name=\"message\" v-model=\"contact_message\" class=\"form-control\" id=\"message\" cols=\"30\" rows=\"5\" required data-error=\"Write your message\" placeholder=\"Your Message\"></textarea>\n                        <div class=\"help-block with-errors\"></div>\n                    </div>\n                </div>\n\n                <div class=\"col-lg-12 col-md-12 d-flex justify-content-center justify-content-lg-end\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-assess\"  style=\"margin: 0px\">Send Message</button>\n\n                    <div id=\"msgSubmit\" class=\"h3 text-center hidden\"></div>\n                    <div class=\"clearfix\"></div>\n                </div>\n            </div>\n        </form>\n        <div v-else>\n            <h4>Message Sent Successfully!</h4>\n            <p>Thank you for contacting, I'll get back to you as soon as I can.</p>\n        </div>\n    </b-modal>\n\n</template>\n\n\n<script>\n\n    import config  from \"../../../config/config\";\n\n    export default {\n        name: 'ContactPopupRegister',\n        data() {\n            return {\n                contact_name: '',\n                contact_email: '',\n                contact_message: '',\n                show_contact: true,\n                contact_notice: ''\n            }\n        },\n        methods: {\n            async sendContactMessage() {\n                if(!this.validateEmail(this.contact_email)) {\n                    this.contact_notice = \"The email address is badly formatted.\";\n                } else {\n                    const url = `${config.apiUrl}/contact/landing`;\n                    const requestOptions = {\n                        method: \"POST\",\n                        headers: {\"Content-Type\" : \"application/json\"},\n                        body: JSON.stringify({ name: this.contact_name, email: this.contact_email, message: this.contact_message })\n                    };\n                    fetch(url, requestOptions).then(this.handleResponse)\n                }\n            },\n            validateEmail(email) {\n                var re = /\\S+@\\S+\\.\\S+/;\n                return re.test(String(email).toLowerCase());\n            },\n            handleResponse() {\n                this.$bvModal.hide('contactRegister-modal')\n            },\n            initModal() {\n                this.show_contact = true;\n                this.contact_name = '';\n                this.contact_email = '';\n                this.contact_message = '';\n                this.contact_notice = '';\n            }\n\n        }\n    }\n</script>\n"]}]}