{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/EducationPopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/EducationPopup.vue","mtime":1661713508333},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgogIGltcG9ydCB7bWFwQWN0aW9ucywgbWFwU3RhdGV9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICBzY2hvb2xzOiBbXSwKICAgICAgICAgICAgICAgIGNlcnRpZmljYXRlczogW10KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICdhY2NvdW50LnN0YXR1cyc6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgaWYodmFsLnVwZGF0ZWRFZHVjYXRpb25Gb3JtSW5mbykKICAgICAgICAgICAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgnZWR1Y2F0aW9uLW1vZGFsJyk7CiAgICAgICAgfQogICAgfSwKICAgIHByb3BzOiBbJ3Byb2ZpbGVQcm9wJ10sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKHsKICAgICAgICAgICAgYWxlcnQ6IHN0YXRlID0+IHN0YXRlLmFsZXJ0LAogICAgICAgICAgICBhY2NvdW50OiBzdGF0ZSA9PiBzdGF0ZS5hY2NvdW50CiAgICAgICAgfSksCiAgICAgICAgaXNBY3RpdmVTY2hvb2xNaW51czogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNjaG9vbHMubGVuZ3RoID4gMTsKICAgICAgICB9LAogICAgICAgIGlzQWN0aXZlU2Nob29sUGx1czogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNjaG9vbHMubGVuZ3RoIDwgMzsKICAgICAgICB9LAogICAgICAgIGlzQWN0aXZlQ2VydGlmaWNhdGVNaW51czogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmNlcnRpZmljYXRlcy5sZW5ndGggPiAwOwogICAgICAgIH0sCiAgICAgICAgaXNBY3RpdmVDZXJ0aWZpY2F0ZVBsdXM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5jZXJ0aWZpY2F0ZXMubGVuZ3RoIDwgMzsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoJ2FjY291bnQnLCBbJ3VwZGF0ZUVkdWNhdGlvbkluZm8nXSksCiAgICAgICAgLi4ubWFwQWN0aW9ucygnYWxlcnQnLCBbJ2NsZWFyJ10pLAogICAgICAgIGluaXRNb2RhbCgpIHsKICAgICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5kYXRhID0gewogICAgICAgICAgICAgICAgaGVhZGxpbmU6IHRoaXMucHJvZmlsZVByb3AucHJvZmlsZS5oZWFkbGluZSwKICAgICAgICAgICAgICAgIHNjaG9vbHM6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9maWxlUHJvcC5zY2hvb2xzKSksCiAgICAgICAgICAgICAgICBjZXJ0aWZpY2F0ZXM6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9maWxlUHJvcC5jZXJ0aWZpY2F0ZXMpKQogICAgICAgICAgICB9OwogICAgICAgICAgICBpZih0aGlzLmRhdGEuc2Nob29scy5sZW5ndGggPT09IDApCiAgICAgICAgICAgICAgICB0aGlzLmFkZFNjaG9vbCgpOwogICAgICAgICAgICB0aGlzLmNsZWFyKCk7CgogICAgICAgIH0sCiAgICAgICAgYWRkU2Nob29sOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYodGhpcy5kYXRhLnNjaG9vbHMubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNjaG9vbHMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCksCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICIiLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAiIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRlbGV0ZVNjaG9vbDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5zY2hvb2xzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zY2hvb2xzLnBvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhZGRDZXJ0aWZpY2F0ZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5jZXJ0aWZpY2F0ZXMubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNlcnRpZmljYXRlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogIiIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICIiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGVsZXRlQ2VydGlmaWNhdGU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZih0aGlzLmRhdGEuY2VydGlmaWNhdGVzLmxlbmd0aCAgPiAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuY2VydGlmaWNhdGVzLnBvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzYXZlRm9ybSgpewogICAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpLnRoZW4oc3VjY2VzcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVkdWNhdGlvbkluZm8odGhpcy5kYXRhKTsKICAgICAgICAgICAgfSk7CgogICAgICAgIH0KICAgIH0KfQoK"},{"version":3,"sources":["EducationPopup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"EducationPopup.vue","sourceRoot":"src/components/profile/popups","sourcesContent":["<template>\n\n    <b-modal @show=\"initModal\"  id=\"education-modal\" title=\"Schools and certificates\" hide-footer>\n        <div v-if=\"alert.failed\" :class=\"`alert ${alert.type}`\">{{alert.message}}</div>\n        <ValidationObserver ref=\"form\">\n            <form id=\"education-popup\" class=\"cms\" @submit.prevent=\"saveForm\" novalidate>\n                <div class=\"form-title\">\n                    <p class=\"first\">What? Who? Where do you tutor?</p>\n                </div>\n\n                <div class=\"form-group\">\n                    <label for=\"headline\">Headline *</label>\n                    <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                        <input type=\"text\" class=\"form-control\" id=\"headline\" v-model=\"data.headline\"  placeholder=\"Example: Math tutor for 1-12th grade in San Francisco\"  :class=\"{ 'is-invalid': submitted && errors.length }\" >\n                        <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Headline is required</div>\n                    </ValidationProvider>\n                </div>\n\n                <div class=\"form-title\">\n                    <p>Your education and qualifications</p>\n                </div>\n\n                <div id=\"schools\" v-for=\"school in data.schools\" :key=\"school.id\">\n                    <div class=\"form-group\">\n                        <label for=\"school\">University or school *</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"school\" placeholder=\"Example: Ohio University\" v-model=\"school.label\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">University or school is required</div>\n                        </ValidationProvider>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"school-label\">Degree and field of study *</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"school-label\" placeholder=\"Example: BS Applied Mathematics\" v-model=\"school.value\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Degree and field of study is required</div>\n                        </ValidationProvider>\n                    </div>\n                </div>\n\n                <div class=\"plus-minus\">\n                    <font-awesome-icon class=\"icon\" icon=\"plus-circle\" v-bind:class=\"[isActiveSchoolPlus ? 'active' : 'disabled']\" v-on:click=\"addSchool\" />\n                    <font-awesome-icon class=\"icon\" icon=\"minus-circle\" v-bind:class=\"[isActiveSchoolMinus ? 'active' : 'disabled']\" v-on:click=\"deleteSchool\"/>\n                </div>\n                <p class=\"plus-minus-comment\">University / School</p>\n\n                <div id=\"certificates\" v-for=\"certificate in data.certificates\" :key=\"certificate.id\">\n                    <div class=\"form-group\">\n                        <label for=\"certificate\">Certificate</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"certificate\" v-model=\"certificate.label\" placeholder=\"Example: ATA Tutor\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Required - to remove, click on the minus button below</div>\n                        </ValidationProvider>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"certDesc\">Certificate description</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"certDesc\" v-model=\"certificate.value\" placeholder=\"Example: American Tutoring Association\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Required - to remove, click on the minus button below</div>\n                        </ValidationProvider>\n                    </div>\n                </div>\n\n                <div class=\"plus-minus\">\n                    <font-awesome-icon class=\"icon\" icon=\"plus-circle\" v-bind:class=\"[isActiveCertificatePlus ? 'active' : 'disabled']\" v-on:click=\"addCertificate\" />\n                    <font-awesome-icon class=\"icon\" icon=\"minus-circle\" v-bind:class=\"[isActiveCertificateMinus ? 'active' : 'disabled']\" v-on:click=\"deleteCertificate\" />\n                </div>\n                <p class=\"plus-minus-comment\">Certificate</p>\n\n                <div class=\"btn-container\">\n                    <a class=\"btn btn-primary btn-border btn-cancel\" @click=\"$bvModal.hide('education-modal')\">Cancel</a>\n                    <button type=\"submit\" class=\"btn btn-primary btn-border btn-save\" :disabled=\"account.status.updatingEducationInfo\">Save\n                        <img v-show=\"account.status.updatingEducationInfo\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                    </button>\n                </div>\n            </form>\n        </ValidationObserver>\n\n    </b-modal>\n\n</template>\n\n\n\n\n<script>\n\n    import {mapActions, mapState} from \"vuex\";\n\n  export default {\n      data() {\n          return {\n              submitted: false,\n              data: {\n                  schools: [],\n                  certificates: []\n              }\n          }\n      },\n      watch: {\n          'account.status': function (val) {\n              if(val.updatedEducationFormInfo)\n                  this.$bvModal.hide('education-modal');\n          }\n      },\n      props: ['profileProp'],\n      computed: {\n          ...mapState({\n              alert: state => state.alert,\n              account: state => state.account\n          }),\n          isActiveSchoolMinus: function () {\n              return this.data.schools.length > 1;\n          },\n          isActiveSchoolPlus: function () {\n              return this.data.schools.length < 3;\n          },\n          isActiveCertificateMinus: function () {\n              return this.data.certificates.length > 0;\n          },\n          isActiveCertificatePlus: function () {\n              return this.data.certificates.length < 3;\n          }\n      },\n      methods: {\n          ...mapActions('account', ['updateEducationInfo']),\n          ...mapActions('alert', ['clear']),\n          initModal() {\n              this.submitted = false;\n              this.data = {\n                  headline: this.profileProp.profile.headline,\n                  schools: JSON.parse(JSON.stringify(this.profileProp.schools)),\n                  certificates: JSON.parse(JSON.stringify(this.profileProp.certificates))\n              };\n              if(this.data.schools.length === 0)\n                  this.addSchool();\n              this.clear();\n\n          },\n          addSchool: function() {\n              if(this.data.schools.length < 3) {\n                  this.data.schools.push({\n                      id: Date.now(),\n                      label: \"\",\n                      value: \"\"\n                  });\n              }\n          },\n          deleteSchool: function() {\n              if(this.data.schools.length > 1) {\n                  this.data.schools.pop();\n              }\n          },\n          addCertificate: function() {\n              if(this.data.certificates.length < 3) {\n                  this.data.certificates.push({\n                      id: Date.now(),\n                      label: \"\",\n                      value: \"\"\n                  });\n              }\n          },\n          deleteCertificate: function() {\n              if(this.data.certificates.length  > 0) {\n                  this.data.certificates.pop();\n              }\n          },\n          saveForm(){\n              this.submitted = true;\n              this.$refs.form.validate().then(success => {\n                  if (!success) {\n                      return;\n                  }\n                  this.updateEducationInfo(this.data);\n              });\n\n          }\n      }\n  }\n\n</script>\n"]}]}