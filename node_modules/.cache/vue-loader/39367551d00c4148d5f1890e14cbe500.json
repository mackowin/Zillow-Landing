{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/NamePopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/NamePopup.vue","mtime":1651859070645},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgogIGltcG9ydCB7bWFwQWN0aW9ucywgbWFwU3RhdGV9IGZyb20gInZ1ZXgiOwoKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGZpcnN0TmFtZTogdGhpcy5wcm9maWxlUHJvcC5wcm9maWxlLmZpcnN0TmFtZSwKICAgICAgICAgICAgbGFzdE5hbWU6IHRoaXMucHJvZmlsZVByb3AucHJvZmlsZS5sYXN0TmFtZSwKICAgICAgICAgICAgZW1haWw6IHRoaXMucHJvZmlsZVByb3AucHJvZmlsZS5lbWFpbCwKICAgICAgICAgICAgZmlyc3RMaW5lOiB0aGlzLmluaXRMaW5lKDApLAogICAgICAgICAgICBzZWNvbmRMaW5lOiB0aGlzLmluaXRMaW5lKDEpLAogICAgICAgICAgICB0aGlyZExpbmU6IHRoaXMuaW5pdExpbmUoMiksCiAgICAgICAgICAgIHN1Ym1pdHRlZDogZmFsc2UKCiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJ2FjY291bnQuc3RhdHVzJzogZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICBpZih2YWwudXBkYXRlZE5hbWVGb3JtSW5mbykKICAgICAgICAgICAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgnbmFtZS1tb2RhbCcpOwogICAgICAgIH0KICAgIH0sCiAgICBwcm9wczogWydwcm9maWxlUHJvcCddLAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBTdGF0ZSh7CiAgICAgICAgICAgIGFsZXJ0OiBzdGF0ZSA9PiBzdGF0ZS5hbGVydCwKICAgICAgICAgICAgYWNjb3VudDogc3RhdGUgPT4gc3RhdGUuYWNjb3VudAogICAgICAgIH0pLAogICAgICAgIHJvdzFQbGFjZWhvbGRlcjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZih0aGlzLmZpcnN0TmFtZSkKICAgICAgICAgICAgICAgIHJldHVybiAnSGksIG15IG5hbWUgaXMgJyArIHRoaXMuZmlyc3ROYW1lICsgJy4nOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICByZXR1cm4gJ0hpLCBteSBuYW1lIGlzIDxuYW1lPi4nOwogICAgICAgIH0sCiAgICAgICAgcm93MlBsYWNlaG9sZGVyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmKHRoaXMucHJvZmlsZVByb3AuY2F0ZWdvcmllcyAmJiB0aGlzLnByb2ZpbGVQcm9wLmNhdGVnb3JpZXMubGVuZ3RoID4gMCkKICAgICAgICAgICAgICAgIHJldHVybiAnSSB0dXRvciAnICsgdGhpcy5mb3JtYXRBcnJheSh0aGlzLnByb2ZpbGVQcm9wLmNhdGVnb3JpZXMubWFwKGNhdCA9PiBjYXQuY2F0ZWdvcnlOYW1lKSkgKyAnLic7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHJldHVybiAnSSB0ZWFjaCA8U3ViamVjdCAxPi4nOwogICAgICAgIH0sCgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKCdhY2NvdW50JywgWyd1cGRhdGVOYW1lSW5mbyddKSwKICAgICAgICAuLi5tYXBBY3Rpb25zKCdhbGVydCcsIFsnY2xlYXInXSksCiAgICAgICAgaW5pdE1vZGFsKCkgewogICAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmZpcnN0TmFtZSA9IHRoaXMucHJvZmlsZVByb3AucHJvZmlsZS5maXJzdE5hbWU7CiAgICAgICAgICAgIHRoaXMubGFzdE5hbWUgPSB0aGlzLnByb2ZpbGVQcm9wLnByb2ZpbGUubGFzdE5hbWU7CiAgICAgICAgICAgIHRoaXMuZW1haWwgPSB0aGlzLnByb2ZpbGVQcm9wLnByb2ZpbGUuZW1haWw7CiAgICAgICAgICAgIHRoaXMuZmlyc3RMaW5lID0gdGhpcy5pbml0TGluZSgwKTsKICAgICAgICAgICAgdGhpcy5zZWNvbmRMaW5lID0gdGhpcy5pbml0TGluZSgxKTsKICAgICAgICAgICAgdGhpcy50aGlyZExpbmUgPSB0aGlzLmluaXRMaW5lKDIpOwogICAgICAgICAgICB0aGlzLmNsZWFyKCk7CgogICAgICAgIH0sCiAgICAgICAgaW5pdExpbmUoaW5kZXgpewogICAgICAgICAgICBpZih0aGlzLnByb2ZpbGVQcm9wLnByb2ZpbGUuc2hvcnRCaW8pIHJldHVybiB0aGlzLnByb2ZpbGVQcm9wLnByb2ZpbGUuc2hvcnRCaW8uc3BsaXQoL1xyP1xuLylbaW5kZXhdCiAgICAgICAgICAgIGVsc2UgcmV0dXJuIG51bGwKICAgICAgICB9LAogICAgICAgIGZvcm1hdEFycmF5KGFycikgewogICAgICAgICAgICB2YXIgb3V0U3RyID0gIiI7CiAgICAgICAgICAgIGlmIChhcnIubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBvdXRTdHIgPSBhcnJbMF07CiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJyLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgb3V0U3RyID0gYXJyLmpvaW4oJyAmICcpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGFyci5sZW5ndGggPiAyKSB7CiAgICAgICAgICAgICAgICBvdXRTdHIgPSBhcnIuc2xpY2UoMCwgLTEpLmpvaW4oJywgJykgKyAnICYgJyArIGFyci5zbGljZSgtMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG91dFN0cjsKICAgICAgICB9LAogICAgICAgIHNhdmVGb3JtKCl7CiAgICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkudGhlbihzdWNjZXNzID0+IHsKICAgICAgICAgICAgICAgIGlmICghc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9IHRoaXMuZmlyc3ROYW1lOwogICAgICAgICAgICAgICAgY29uc3QgbGFzdE5hbWUgPSB0aGlzLmxhc3ROYW1lOwogICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSB0aGlzLmVtYWlsOwogICAgICAgICAgICAgICAgdmFyIHNob3J0QmlvID0gJyc7CiAgICAgICAgICAgICAgICBpZih0aGlzLmZpcnN0TGluZSkgewogICAgICAgICAgICAgICAgICAgIHNob3J0QmlvID0gdGhpcy5maXJzdExpbmUgKyAnXG4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5zZWNvbmRMaW5lKSB7CiAgICAgICAgICAgICAgICAgICAgc2hvcnRCaW8gPSBzaG9ydEJpbyArIHRoaXMuc2Vjb25kTGluZSArICdcbic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLnRoaXJkTGluZSkgewogICAgICAgICAgICAgICAgICAgIHNob3J0QmlvID0gc2hvcnRCaW8gKyB0aGlzLnRoaXJkTGluZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNob3J0QmlvID0gc2hvcnRCaW8udHJpbSgpOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOYW1lSW5mbyh7Zmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHNob3J0QmlvfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICB9CiAgICB9Cn0KCg=="},{"version":3,"sources":["NamePopup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"NamePopup.vue","sourceRoot":"src/components/profile/popups","sourcesContent":["<template>\n\n    <b-modal @show=\"initModal\"  id=\"name-modal\" title=\"About me\" hide-footer>\n        <div v-if=\"alert.failed\" :class=\"`alert ${alert.type}`\">{{alert.message}}</div>\n        <ValidationObserver ref=\"form\">\n            <form id=\"name-popup\" class=\"cms\" @submit.prevent=\"saveForm\" novalidate>\n                <div class=\"form-group\">\n                    <label for=\"firstName\">First name (or your brand name) *</label>\n                    <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                        <input type=\"text\" class=\"form-control\" id=\"firstName\" v-model=\"firstName\"  name=\"firstName\"  placeholder=\"Teacher\" :class=\"{ 'is-invalid':  submitted && errors.length }\" >\n                        <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">First name is required</div>\n                    </ValidationProvider>\n\n                </div>\n\n                <div class=\"form-group\">\n                    <label for=\"lastName\">Last name (or your brand name)</label>\n                    <input type=\"text\" class=\"form-control\" id=\"lastName\" v-model=\"lastName\" placeholder=\"Natalie\">\n\n                </div>\n\n                <div class=\"form-group\">\n                    <label for=\"email\">E-mail *</label>\n                    <ValidationProvider rules=\"required|email\" v-slot=\"{ errors }\" >\n                        <input type=\"email\" class=\"form-control\" v-model=\"email\" id=\"email\" aria-describedby=\"emailHelp\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                        <div v-if=\"submitted && errors.includes('required')\" class=\"invalid-feedback\">Email is required</div>\n                        <div v-if=\"submitted && errors.includes('email')\" class=\"invalid-feedback\">Email has wrong format</div>\n                    </ValidationProvider>\n                    <small id=\"emailHelp\" class=\"form-text text-muted\">For website visitors to contact you</small>\n                </div>\n\n                <div class=\"form-title\">\n                    <p>Name and subject list will be automatically populated after you complete “Subjects” section.</p>\n                </div>\n\n                <div class=\"form-group\">\n                    <label for=\"shortBio-1\">Introduction - first row</label>\n                    <input type=\"text\" class=\"form-control\" id=\"shortBio-1\" v-model=\"firstLine\"  :placeholder=\"row1Placeholder\">\n                </div>\n\n                <div class=\"form-group\">\n                    <label for=\"shortBio-2\">Introduction - second row</label>\n                    <input type=\"text\" class=\"form-control\" id=\"shortBio-2\"  v-model=\"secondLine\" :placeholder=\"row2Placeholder\" >\n                </div>\n\n                <div class=\"form-group\">\n                    <label for=\"shortBio-3\">Introduction - third row</label>\n                    <input type=\"text\" class=\"form-control\" id=\"shortBio-3\" v-model=\"thirdLine\"  placeholder=\"Welcome to my website!\" >\n                </div>\n\n                <div class=\"btn-container\">\n                    <a class=\"btn btn-primary btn-border btn-cancel\" @click=\"$bvModal.hide('name-modal')\">Cancel</a>\n                    <button type=\"submit\" class=\"btn btn-primary btn-border btn-save\" :disabled=\"account.status.updatingNameInfo\">Save\n                        <img v-show=\"account.status.updatingNameInfo\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                    </button>\n                </div>\n            </form>\n        </ValidationObserver>\n    </b-modal>\n\n</template>\n\n\n\n\n<script>\n\n    import {mapActions, mapState} from \"vuex\";\n\n\n  export default {\n      data () {\n          return {\n              firstName: this.profileProp.profile.firstName,\n              lastName: this.profileProp.profile.lastName,\n              email: this.profileProp.profile.email,\n              firstLine: this.initLine(0),\n              secondLine: this.initLine(1),\n              thirdLine: this.initLine(2),\n              submitted: false\n\n          }\n      },\n      watch: {\n          'account.status': function (val) {\n              if(val.updatedNameFormInfo)\n                  this.$bvModal.hide('name-modal');\n          }\n      },\n      props: ['profileProp'],\n      computed: {\n          ...mapState({\n              alert: state => state.alert,\n              account: state => state.account\n          }),\n          row1Placeholder: function () {\n              if(this.firstName)\n                  return 'Hi, my name is ' + this.firstName + '.';\n              else\n                  return 'Hi, my name is <name>.';\n          },\n          row2Placeholder: function () {\n              if(this.profileProp.categories && this.profileProp.categories.length > 0)\n                  return 'I tutor ' + this.formatArray(this.profileProp.categories.map(cat => cat.categoryName)) + '.';\n              else\n                  return 'I teach <Subject 1>.';\n          },\n\n      },\n      methods: {\n          ...mapActions('account', ['updateNameInfo']),\n          ...mapActions('alert', ['clear']),\n          initModal() {\n              this.submitted = false;\n              this.firstName = this.profileProp.profile.firstName;\n              this.lastName = this.profileProp.profile.lastName;\n              this.email = this.profileProp.profile.email;\n              this.firstLine = this.initLine(0);\n              this.secondLine = this.initLine(1);\n              this.thirdLine = this.initLine(2);\n              this.clear();\n\n          },\n          initLine(index){\n              if(this.profileProp.profile.shortBio) return this.profileProp.profile.shortBio.split(/\\r?\\n/)[index]\n              else return null\n          },\n          formatArray(arr) {\n              var outStr = \"\";\n              if (arr.length === 1) {\n                  outStr = arr[0];\n              } else if (arr.length === 2) {\n                  outStr = arr.join(' & ');\n              } else if (arr.length > 2) {\n                  outStr = arr.slice(0, -1).join(', ') + ' & ' + arr.slice(-1);\n              }\n              return outStr;\n          },\n          saveForm(){\n              this.submitted = true;\n              this.$refs.form.validate().then(success => {\n                  if (!success) {\n                      return;\n                  }\n                  const firstName = this.firstName;\n                  const lastName = this.lastName;\n                  const email = this.email;\n                  var shortBio = '';\n                  if(this.firstLine) {\n                      shortBio = this.firstLine + '\\n';\n                  }\n                  if(this.secondLine) {\n                      shortBio = shortBio + this.secondLine + '\\n';\n                  }\n                  if(this.thirdLine) {\n                      shortBio = shortBio + this.thirdLine;\n                  }\n                  shortBio = shortBio.trim();\n                  this.updateNameInfo({firstName, lastName, email, shortBio});\n              });\n\n          }\n      }\n  }\n\n</script>\n"]}]}