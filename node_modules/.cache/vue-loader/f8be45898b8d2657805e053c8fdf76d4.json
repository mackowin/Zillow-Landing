{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ReviewsPopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ReviewsPopup.vue","mtime":1661713508338},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge21hcEFjdGlvbnMsIG1hcFN0YXRlfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdSZXZpZXdzUG9wdXAnLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICB0ZXN0aW1vbmlhbHM6IFtdCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgcHJvcHM6IFsncHJvZmlsZVByb3AnXSwKICAgIHdhdGNoOiB7CiAgICAgICAgJ2FjY291bnQuc3RhdHVzJzogZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICBpZih2YWwudXBkYXRlZFRlc3RpbW9uaWFscykKICAgICAgICAgICAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgncmV2aWV3cy1tb2RhbCcpOwogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKHsKICAgICAgICAgICAgYWxlcnQ6IHN0YXRlID0+IHN0YXRlLmFsZXJ0LAogICAgICAgICAgICBhY2NvdW50OiBzdGF0ZSA9PiBzdGF0ZS5hY2NvdW50CiAgICAgICAgfSksCiAgICAgICAgaXNBY3RpdmVSZXZpZXdlck1pbnVzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEudGVzdGltb25pYWxzLmxlbmd0aCA+IDA7CiAgICAgICAgfSwKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLi4ubWFwQWN0aW9ucygnYWNjb3VudCcsIFsndXBkYXRlVGVzdGltb25pYWxzJ10pLAogICAgICAgIC4uLm1hcEFjdGlvbnMoJ2FsZXJ0JywgWydjbGVhciddKSwKICAgICAgICBhZGRUZXN0aW1vbmlhbDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMuZGF0YS50ZXN0aW1vbmlhbHMucHVzaCh7CiAgICAgICAgICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgIHN0YXJzOiAwLAogICAgICAgICAgICAgICAgcmV2aWV3ZXJOYW1lOiAiIiwKICAgICAgICAgICAgICAgIHJldmlld2VyRGVzY3JpcHRpb246ICIiLAogICAgICAgICAgICAgICAgdXJsOiAiIiwKICAgICAgICAgICAgICAgIHRlc3RpbW9uaWFsOiAiIgogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGluaXRNb2RhbCgpIHsKICAgICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5kYXRhID0gewogICAgICAgICAgICAgICAgdGVzdGltb25pYWxzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucHJvZmlsZVByb3AudGVzdGltb25pYWxzKSkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYodGhpcy5kYXRhLnRlc3RpbW9uaWFscy5sZW5ndGggPT09IDApCiAgICAgICAgICAgICAgICB0aGlzLmFkZFRlc3RpbW9uaWFsKCk7CiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTsKCiAgICAgICAgfSwKICAgICAgICBkZWxldGVUZXN0aW1vbmlhbDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS50ZXN0aW1vbmlhbHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgdGhpcy5kYXRhLnRlc3RpbW9uaWFscy5wb3AoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2F2ZUZvcm0oKXsKICAgICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKS50aGVuKHN1Y2Nlc3MgPT4gewogICAgICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUZXN0aW1vbmlhbHModGhpcy5kYXRhKTsKICAgICAgICAgICAgfSk7CgogICAgICAgIH0KICAgIH0KfQoK"},{"version":3,"sources":["ReviewsPopup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ReviewsPopup.vue","sourceRoot":"src/components/profile/popups","sourcesContent":["<template>\n\n    <b-modal @show=\"initModal\"  id=\"reviews-modal\" title=\"Reviews and Testimonials\" hide-footer>\n\n        <div v-if=\"alert.failed\" :class=\"`alert ${alert.type}`\">{{alert.message}}</div>\n        <ValidationObserver ref=\"form\">\n            <form id=\"reviews-popup\" class=\"cms\" @submit.prevent=\"saveForm\" novalidate>\n\n                <div id=\"reviewCards\" v-for=\"testimonial in data.testimonials\" :key=\"testimonial.id\">\n\n                    <div class=\"form-group\">\n                        <label for=\"stars\">Did you receive a star rating review?</label>\n                            <div class=\"star-rating\">\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                <div style=\"display: flex; align-items: center\">\n                                    <input type=\"number\" max=\"5\" min=\"0\" class=\"form-control\" id=\"stars\" v-model.number=\"testimonial.stars\" :class=\"{ 'is-invalid': submitted && errors.length }\" >\n                                    <p>stars (selecting \"0\" hides stars)</p>\n                                </div>\n                                <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Rating is required</div>\n                                </ValidationProvider>\n                            </div>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"reviewer\">Reviewer name</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"reviewer\" placeholder=\"Caroline S.\" v-model=\"testimonial.reviewerName\" :class=\"{ 'is-invalid': submitted && errors.length }\" >\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Reviewer name is required</div>\n                        </ValidationProvider>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"reviewer-desc\">Reviewer description</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"reviewer-desc\" v-model=\"testimonial.reviewerDescription\" placeholder=\"Tom's mom (12yo), New York\" :class=\"{ 'is-invalid': submitted && errors.length }\">\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Reviewer description is required</div>\n                        </ValidationProvider>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"review-source\">Link to validate the review - optional<br> (review is on google, facebook, tutoring platform or other?)</label>\n                        <ValidationProvider rules=\"url\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"review-source\" v-model=\"testimonial.url\" placeholder=\"https://reviewsource.com\" :class=\"{ 'is-invalid': submitted && errors.length }\">\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Link has wrong format, \"https://\" is required</div>\n                        </ValidationProvider>\n                    </div>\n\n\n                    <div class=\"form-group\">\n                        <label for=\"testimonial\">Testimonial</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <textarea class=\"form-control\" id=\"testimonial\" rows=\"3\" v-model=\"testimonial.testimonial\" placeholder=\"Type testimonial / review text\" :class=\"{ 'is-invalid': submitted && errors.length }\"></textarea>\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Testimonial is required</div>\n                        </ValidationProvider>\n                    </div>\n                </div>\n\n                <div class=\"plus-minus\">\n                    <font-awesome-icon class=\"icon active\" icon=\"plus-circle\" v-on:click=\"addTestimonial\" />\n                    <font-awesome-icon class=\"icon\" icon=\"minus-circle\" v-bind:class=\"[isActiveReviewerMinus ? 'active' : 'disabled']\" v-on:click=\"deleteTestimonial\" />\n                </div>\n                <p class=\"plus-minus-comment\">Reviewer</p>\n\n                <div class=\"btn-container\">\n                    <a class=\"btn btn-primary btn-border btn-cancel\" @click=\"$bvModal.hide('reviews-modal')\">Cancel</a>\n                    <button type=\"submit\" class=\"btn btn-primary btn-border btn-save\">Save\n                        <img v-show=\"account.status.updatingTestimonials\"  src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                    </button>\n                </div>\n\n            </form>\n        </ValidationObserver>\n    </b-modal>\n\n</template>\n\n\n<script>\n\n    import {mapActions, mapState} from \"vuex\";\n\n    export default {\n        name: 'ReviewsPopup',\n        data() {\n            return {\n                submitted: false,\n                data: {\n                    testimonials: []\n                }\n            }\n        },\n        props: ['profileProp'],\n        watch: {\n            'account.status': function (val) {\n                if(val.updatedTestimonials)\n                    this.$bvModal.hide('reviews-modal');\n            }\n        },\n        computed: {\n            ...mapState({\n                alert: state => state.alert,\n                account: state => state.account\n            }),\n            isActiveReviewerMinus: function () {\n                return this.data.testimonials.length > 0;\n            },\n        },\n        methods: {\n            ...mapActions('account', ['updateTestimonials']),\n            ...mapActions('alert', ['clear']),\n            addTestimonial: function() {\n                this.data.testimonials.push({\n                    id: Date.now(),\n                    stars: 0,\n                    reviewerName: \"\",\n                    reviewerDescription: \"\",\n                    url: \"\",\n                    testimonial: \"\"\n                });\n            },\n            initModal() {\n                this.submitted = false;\n                this.data = {\n                    testimonials: JSON.parse(JSON.stringify(this.profileProp.testimonials))\n                };\n                if(this.data.testimonials.length === 0)\n                    this.addTestimonial();\n                this.clear();\n\n            },\n            deleteTestimonial: function() {\n                if(this.data.testimonials.length > 0) {\n                    this.data.testimonials.pop();\n                }\n            },\n            saveForm(){\n                this.submitted = true;\n                this.$refs.form.validate().then(success => {\n                    if (!success) {\n                        return;\n                    }\n                    this.updateTestimonials(this.data);\n                });\n\n            }\n        }\n    }\n\n</script>\n"]}]}