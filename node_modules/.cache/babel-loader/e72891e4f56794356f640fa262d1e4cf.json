{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/RatesPopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/RatesPopup.vue","mtime":1633236032929},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbmF0YWxpYW1hY2tvd2lhay9Eb2N1bWVudHMvU3RhcnR1cC9UdXRvcnMvQ29kZS9UdXRvbXktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1Ym1pdHRlZDogZmFsc2UsCiAgICAgIGVycm9yczogW10sCiAgICAgIGRhdGE6IHsKICAgICAgICByYXRlczogW10KICAgICAgfQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAnYWNjb3VudC5zdGF0dXMnOiBmdW5jdGlvbiBhY2NvdW50U3RhdHVzKHZhbCkgewogICAgICBpZiAodmFsLnVwZGF0ZWRSYXRlc0Zvcm0pIHRoaXMuJGJ2TW9kYWwuaGlkZSgncmF0ZXMtbW9kYWwnKTsKICAgIH0KICB9LAogIHByb3BzOiBbJ3Byb2ZpbGVQcm9wJ10sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgYWxlcnQ6IGZ1bmN0aW9uIGFsZXJ0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hbGVydDsKICAgIH0sCiAgICBhY2NvdW50OiBmdW5jdGlvbiBhY2NvdW50KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hY2NvdW50OwogICAgfQogIH0pKSwge30sIHsKICAgIGlzQWN0aXZlUmF0ZU1pbnVzOiBmdW5jdGlvbiBpc0FjdGl2ZVJhdGVNaW51cygpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0YS5yYXRlcy5sZW5ndGggPiAxOwogICAgfSwKICAgIGlzQWN0aXZlUmF0ZVBsdXM6IGZ1bmN0aW9uIGlzQWN0aXZlUmF0ZVBsdXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGEucmF0ZXMubGVuZ3RoIDwgNDsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygnYWNjb3VudCcsIFsndXBkYXRlUmF0ZXMnXSkpLCBtYXBBY3Rpb25zKCdhbGVydCcsIFsnY2xlYXInXSkpLCB7fSwgewogICAgaW5pdE1vZGFsOiBmdW5jdGlvbiBpbml0TW9kYWwoKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuZGF0YSA9IHsKICAgICAgICByYXRlU2VjdGlvbkNvbW1lbnQ6IHRoaXMucHJvZmlsZVByb3AucHJvZmlsZS5yYXRlSW5mby5yYXRlU2VjdGlvbkNvbW1lbnQsCiAgICAgICAgbGVzc29uTGVuZ3RoOiB0aGlzLnByb2ZpbGVQcm9wLnByb2ZpbGUucmF0ZUluZm8ubGVzc29uTGVuZ3RoLAogICAgICAgIHJhdGVzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucHJvZmlsZVByb3AucmF0ZXMpKQogICAgICB9OwogICAgICBpZiAodGhpcy5kYXRhLnJhdGVzLmxlbmd0aCA9PT0gMCkgdGhpcy5hZGRSYXRlKCk7CiAgICAgIHRoaXMuY2xlYXIoKTsKICAgIH0sCiAgICBhZGRSYXRlOiBmdW5jdGlvbiBhZGRSYXRlKCkgewogICAgICBpZiAodGhpcy5kYXRhLnJhdGVzLmxlbmd0aCA8IDQpIHsKICAgICAgICB0aGlzLmRhdGEucmF0ZXMucHVzaCh7CiAgICAgICAgICBpZDogRGF0ZS5ub3coKQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlUmF0ZTogZnVuY3Rpb24gZGVsZXRlUmF0ZSgpIHsKICAgICAgaWYgKHRoaXMuZGF0YS5yYXRlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgdGhpcy5kYXRhLnJhdGVzLnBvcCgpOwogICAgICB9CiAgICB9LAogICAgc2F2ZUZvcm06IGZ1bmN0aW9uIHNhdmVGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uIChzdWNjZXNzKSB7CiAgICAgICAgX3RoaXMuc2V0RXJyb3JzKCk7CgogICAgICAgIGlmICghc3VjY2VzcyB8fCBfdGhpcy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpcy51cGRhdGVSYXRlcyhfdGhpcy5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0RXJyb3JzOiBmdW5jdGlvbiBzZXRFcnJvcnMoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGVycm9ycyA9IHRoaXMuJHJlZnNbJ2Zvcm0nXS5lcnJvcnM7CiAgICAgICAgdmFyIHBhcnNlZCA9IFtdOwogICAgICAgIE9iamVjdC5rZXlzKGVycm9ycykubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIHBhcnNlZC5wdXNoKGVycm9yc1trZXldWzBdKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmVycm9ycyA9IHBhcnNlZC5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgIHJldHVybiBuYW1lID09PSAncmVxdWlyZWQnOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChfdW51c2VkKSB7CiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgfQogICAgfQogIH0pCn07"},{"version":3,"sources":["RatesPopup.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\n    <b-modal  @show=\"initModal\" id=\"rates-modal\" title=\"Rates\" hide-footer>\n        <div v-if=\"alert.failed\" :class=\"`alert ${alert.type}`\">{{alert.message}}</div>\n        <ValidationObserver ref=\"form\">\n            <form id=\"rates-popup\" class=\"cms\" @submit.prevent=\"saveForm\" novalidate>\n                <div class=\"form-title\">\n                    <p>Show up to 4 rates by editing the below example *</p>\n                </div>\n\n                <div class=\"table-container\">\n                    <table class=\"table\">\n                        <thead>\n                            <tr>\n                                <th class=\"col1\">Currency*</th>\n                                <th class=\"col2\">Rate*</th>\n                                <th class=\"col3\">Session type*</th>\n                                <th class=\"col4\">Comment</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"rate in data.rates\" :key=\"rate.id\">\n                                <td>\n                                    <ValidationProvider  rules=\"required\" v-slot=\"{ errors }\" >\n                                        <input type=\"text\" class=\"form-control\" v-model=\"rate.currency\"  id=\"rateCurrency-1\" v-on:change=\"setErrors\" :class=\"{ 'is-invalid': submitted && errors.length }\">\n                                    </ValidationProvider>\n                                </td>\n\n                                <td>\n                                    <ValidationProvider  rules=\"required\" v-slot=\"{ errors }\" >\n                                        <input type=\"text\" class=\"form-control\" v-model=\"rate.amount\" id=\"rateAmount-1\"  v-on:change=\"setErrors\"  :class=\"{ 'is-invalid': submitted && errors.length }\" >\n                                    </ValidationProvider>\n                                </td>\n                                <td>\n                                    <ValidationProvider  rules=\"required\" v-slot=\"{ errors }\" >\n                                        <input class=\"form-control\" v-model=\"rate.commentTop\" list=\"select-1\" id=\"rateType-1\"  v-on:change=\"setErrors\"  :class=\"{ 'is-invalid': submitted && errors.length }\">\n                                    </ValidationProvider>\n                                    <datalist id=\"select-1\">\n                                        <option selected >per session</option>\n                                        <option>per lesson</option>\n                                        <option>per hour</option>\n                                        <option>per month</option>\n                                        <option>Type your own</option>\n                                    </datalist>\n                                </td>\n                                <td><input type=\"text\" class=\"form-control\"  v-model=\"rate.commentBottom\" id=\"rateComment-1\" placeholder=\"Ex: Rates starting from\"></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div  v-if=\"submitted && errors.length\"  class=\"invalid-feedback\" style=\"display: block\">Missing required fields</div>\n\n                <div class=\"plus-minus add-rates\">\n                    <font-awesome-icon class=\"icon\" icon=\"plus-circle\" v-bind:class=\"[isActiveRatePlus ? 'active' : 'disabled']\" v-on:click=\"addRate\" />\n                    <font-awesome-icon class=\"icon\" icon=\"minus-circle\" v-bind:class=\"[isActiveRateMinus ? 'active' : 'disabled']\" v-on:click=\"deleteRate\" />\n                </div>\n\n                <div class=\"form-group\">\n                    <label for=\"lesson-length\">How long is your standard lesson?</label>\n                    <div class=\"lesson\">\n                        <input type=\"number\" class=\"form-control\" v-model=\"data.lessonLength\" id=\"lesson-length\">\n                        <p>minutes</p>\n                    </div>\n                </div>\n\n                <div class=\"form-group\">\n                    <label for=\"additional-comment\">Additional comment for rates</label>\n                    <input type=\"text\" class=\"form-control\" v-model=\"data.rateSectionComment\" id=\"additional-comment\" placeholder=\"Example: Discounts available upon request\">\n                </div>\n\n                <div class=\"btn-container\">\n                    <a class=\"btn btn-primary btn-border btn-cancel\" @click=\"$bvModal.hide('rates-modal')\">Cancel</a>\n                    <button type=\"submit\"  class=\"btn btn-primary btn-border btn-save\" :disabled=\"account.status.updatingRatesForm\">Save\n                        <img v-show=\"account.status.updatingRatesForm\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                    </button>\n                </div>\n            </form>\n        </ValidationObserver>\n    </b-modal>\n\n</template>\n\n\n\n\n<script>\n\n  import {mapActions, mapState} from \"vuex\";\n\n  export default {\n      data() {\n          return {\n              submitted: false,\n              errors: [],\n              data: {\n                  rates: []\n              }\n          }\n      },\n      watch: {\n          'account.status': function (val) {\n              if(val.updatedRatesForm)\n                  this.$bvModal.hide('rates-modal');\n          }\n\n      },\n      props: ['profileProp'],\n      computed: {\n          ...mapState({\n              alert: state => state.alert,\n              account: state => state.account\n          }),\n          isActiveRateMinus: function () {\n              return this.data.rates.length > 1;\n          },\n          isActiveRatePlus: function () {\n              return this.data.rates.length < 4;\n          }\n      },\n      methods: {\n          ...mapActions('account', ['updateRates']),\n          ...mapActions('alert', ['clear']),\n          initModal() {\n              this.submitted = false;\n              this.data = {\n                  rateSectionComment: this.profileProp.profile.rateInfo.rateSectionComment,\n                  lessonLength: this.profileProp.profile.rateInfo.lessonLength,\n                  rates: JSON.parse(JSON.stringify(this.profileProp.rates)),\n              };\n              if (this.data.rates.length === 0)\n                  this.addRate();\n              this.clear();\n          },\n          addRate: function() {\n              if(this.data.rates.length < 4) {\n                  this.data.rates.push({\n                      id: Date.now()\n                  });\n              }\n          },\n          deleteRate: function() {\n              if(this.data.rates.length  > 1) {\n                  this.data.rates.pop();\n              }\n          },\n          saveForm(){\n\n              this.submitted = true;\n              this.$refs.form.validate().then(success => {\n                  this.setErrors();\n                  if (!success || this.errors.length) {\n                      return;\n                  }\n                  this.updateRates(this.data);\n              });\n\n          },\n          setErrors() {\n              try {\n                  const errors = this.$refs['form'].errors;\n\n                  let parsed = [];\n\n                  Object.keys(errors).map((key) => {\n                      parsed.push(errors[key][0])\n                  });\n\n                  this.errors = parsed.filter(name => name === 'required');\n              } catch {\n                  this.errors = [];\n              }\n          }\n      }\n\n\n  }\n\n</script>\n"],"sourceRoot":"src/components/profile/popups"}]}