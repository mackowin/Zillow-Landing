{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ReviewsPopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ReviewsPopup.vue","mtime":1658547128341},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25hdGFsaWFtYWNrb3dpYWsvRG9jdW1lbnRzL1N0YXJ0dXAvVHV0b3JzL0NvZGUvVHV0b215LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZXZpZXdzUG9wdXAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBkYXRhOiB7CiAgICAgICAgdGVzdGltb25pYWxzOiBbXQogICAgICB9CiAgICB9OwogIH0sCiAgcHJvcHM6IFsncHJvZmlsZVByb3AnXSwKICB3YXRjaDogewogICAgJ2FjY291bnQuc3RhdHVzJzogZnVuY3Rpb24gYWNjb3VudFN0YXR1cyh2YWwpIHsKICAgICAgaWYgKHZhbC51cGRhdGVkVGVzdGltb25pYWxzKSB0aGlzLiRidk1vZGFsLmhpZGUoJ3Jldmlld3MtbW9kYWwnKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIGFsZXJ0OiBmdW5jdGlvbiBhbGVydChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYWxlcnQ7CiAgICB9LAogICAgYWNjb3VudDogZnVuY3Rpb24gYWNjb3VudChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYWNjb3VudDsKICAgIH0KICB9KSksIHt9LCB7CiAgICBpc0FjdGl2ZVJldmlld2VyTWludXM6IGZ1bmN0aW9uIGlzQWN0aXZlUmV2aWV3ZXJNaW51cygpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0YS50ZXN0aW1vbmlhbHMubGVuZ3RoID4gMDsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygnYWNjb3VudCcsIFsndXBkYXRlVGVzdGltb25pYWxzJ10pKSwgbWFwQWN0aW9ucygnYWxlcnQnLCBbJ2NsZWFyJ10pKSwge30sIHsKICAgIGFkZFRlc3RpbW9uaWFsOiBmdW5jdGlvbiBhZGRUZXN0aW1vbmlhbCgpIHsKICAgICAgdGhpcy5kYXRhLnRlc3RpbW9uaWFscy5wdXNoKHsKICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICBzdGFyczogMCwKICAgICAgICByZXZpZXdlck5hbWU6ICIiLAogICAgICAgIHJldmlld2VyRGVzY3JpcHRpb246ICIiLAogICAgICAgIHVybDogIiIsCiAgICAgICAgdGVzdGltb25pYWw6ICIiCiAgICAgIH0pOwogICAgfSwKICAgIGluaXRNb2RhbDogZnVuY3Rpb24gaW5pdE1vZGFsKCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICB0aGlzLmRhdGEgPSB7CiAgICAgICAgdGVzdGltb25pYWxzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucHJvZmlsZVByb3AudGVzdGltb25pYWxzKSkKICAgICAgfTsKICAgICAgaWYgKHRoaXMuZGF0YS50ZXN0aW1vbmlhbHMubGVuZ3RoID09PSAwKSB0aGlzLmFkZFRlc3RpbW9uaWFsKCk7CiAgICAgIHRoaXMuY2xlYXIoKTsKICAgIH0sCiAgICBkZWxldGVUZXN0aW1vbmlhbDogZnVuY3Rpb24gZGVsZXRlVGVzdGltb25pYWwoKSB7CiAgICAgIGlmICh0aGlzLmRhdGEudGVzdGltb25pYWxzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmRhdGEudGVzdGltb25pYWxzLnBvcCgpOwogICAgICB9CiAgICB9LAogICAgc2F2ZUZvcm06IGZ1bmN0aW9uIHNhdmVGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uIChzdWNjZXNzKSB7CiAgICAgICAgaWYgKCFzdWNjZXNzKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpcy51cGRhdGVUZXN0aW1vbmlhbHMoX3RoaXMuZGF0YSk7CiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["ReviewsPopup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,YAAA,EAAA;AADA;AAFA,KAAA;AAMA,GATA;AAUA,EAAA,KAAA,EAAA,CAAA,aAAA,CAVA;AAWA,EAAA,KAAA,EAAA;AACA,sBAAA,uBAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,mBAAA,EACA,KAAA,QAAA,CAAA,IAAA,CAAA,eAAA;AACA;AAJA,GAXA;AAiBA,EAAA,QAAA,kCACA,QAAA,CAAA;AACA,IAAA,KAAA,EAAA,eAAA,KAAA;AAAA,aAAA,KAAA,CAAA,KAAA;AAAA,KADA;AAEA,IAAA,OAAA,EAAA,iBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,OAAA;AAAA;AAFA,GAAA,CADA;AAKA,IAAA,qBAAA,EAAA,iCAAA;AACA,aAAA,KAAA,IAAA,CAAA,YAAA,CAAA,MAAA,GAAA,CAAA;AACA;AAPA,IAjBA;AA0BA,EAAA,OAAA,gDACA,UAAA,CAAA,SAAA,EAAA,CAAA,oBAAA,CAAA,CADA,GAEA,UAAA,CAAA,OAAA,EAAA,CAAA,OAAA,CAAA,CAFA;AAGA,IAAA,cAAA,EAAA,0BAAA;AACA,WAAA,IAAA,CAAA,YAAA,CAAA,IAAA,CAAA;AACA,QAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EADA;AAEA,QAAA,KAAA,EAAA,CAFA;AAGA,QAAA,YAAA,EAAA,EAHA;AAIA,QAAA,mBAAA,EAAA,EAJA;AAKA,QAAA,GAAA,EAAA,EALA;AAMA,QAAA,WAAA,EAAA;AANA,OAAA;AAQA,KAZA;AAaA,IAAA,SAbA,uBAaA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,WAAA,IAAA,GAAA;AACA,QAAA,YAAA,EAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,KAAA,WAAA,CAAA,YAAA,CAAA;AADA,OAAA;AAGA,UAAA,KAAA,IAAA,CAAA,YAAA,CAAA,MAAA,KAAA,CAAA,EACA,KAAA,cAAA;AACA,WAAA,KAAA;AAEA,KAtBA;AAuBA,IAAA,iBAAA,EAAA,6BAAA;AACA,UAAA,KAAA,IAAA,CAAA,YAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,YAAA,CAAA,GAAA;AACA;AACA,KA3BA;AA4BA,IAAA,QA5BA,sBA4BA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,QAAA,GAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,CAAA,OAAA,EAAA;AACA;AACA;;AACA,QAAA,KAAA,CAAA,kBAAA,CAAA,KAAA,CAAA,IAAA;AACA,OALA;AAOA;AArCA;AA1BA,CAAA","sourcesContent":["<template>\n\n    <b-modal @show=\"initModal\"  id=\"reviews-modal\" title=\"Reviews and Testimonials\" hide-footer>\n\n        <div v-if=\"alert.failed\" :class=\"`alert ${alert.type}`\">{{alert.message}}</div>\n        <ValidationObserver ref=\"form\">\n            <form id=\"reviews-popup\" class=\"cms\" @submit.prevent=\"saveForm\" novalidate>\n\n                <div id=\"reviewCards\" v-for=\"testimonial in data.testimonials\" :key=\"testimonial.id\">\n\n                    <div class=\"form-group\">\n                        <label for=\"stars\">Did you receive a star rating review?</label>\n                            <div class=\"star-rating\">\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                <div style=\"display: flex; align-items: center\">\n                                    <input type=\"number\" max=\"5\" min=\"0\" class=\"form-control\" id=\"stars\" v-model.number=\"testimonial.stars\" :class=\"{ 'is-invalid': submitted && errors.length }\" >\n                                    <p>stars (selecting \"0\" hides stars)</p>\n                                </div>\n                                <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Rating is required</div>\n                                </ValidationProvider>\n                            </div>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"reviewer\">Reviewer name</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"reviewer\" placeholder=\"Caroline S.\" v-model=\"testimonial.reviewerName\" :class=\"{ 'is-invalid': submitted && errors.length }\" >\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Reviewer name is required</div>\n                        </ValidationProvider>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"reviewer-desc\">Reviewer description</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"reviewer-desc\" v-model=\"testimonial.reviewerDescription\" placeholder=\"Tom's mom (12yo), New York\" :class=\"{ 'is-invalid': submitted && errors.length }\">\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Reviewer description is required</div>\n                        </ValidationProvider>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"review-source\">Link to validate the review - optional<br> (review is on google, facebook, tutoring platform or other?)</label>\n                        <ValidationProvider rules=\"url\" v-slot=\"{ errors }\" >\n                            <input type=\"text\" class=\"form-control\" id=\"review-source\" v-model=\"testimonial.url\" placeholder=\"https://reviewsource.com\" :class=\"{ 'is-invalid': submitted && errors.length }\">\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Link has wrong format, \"https://\" is required</div>\n                        </ValidationProvider>\n                    </div>\n\n\n                    <div class=\"form-group\">\n                        <label for=\"testimonial\">Testimonial</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <textarea class=\"form-control\" id=\"testimonial\" rows=\"3\" v-model=\"testimonial.testimonial\" placeholder=\"Type testimonial / review text\" :class=\"{ 'is-invalid': submitted && errors.length }\"></textarea>\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Testimonial is required</div>\n                        </ValidationProvider>\n                    </div>\n                </div>\n\n                <div class=\"plus-minus\">\n                    <font-awesome-icon class=\"icon active\" icon=\"plus-circle\" v-on:click=\"addTestimonial\" />\n                    <font-awesome-icon class=\"icon\" icon=\"minus-circle\" v-bind:class=\"[isActiveReviewerMinus ? 'active' : 'disabled']\" v-on:click=\"deleteTestimonial\" />\n                </div>\n                <p class=\"plus-minus-comment\">Reviewer</p>\n\n                <div class=\"btn-container\">\n                    <a class=\"btn btn-primary btn-border btn-cancel\" @click=\"$bvModal.hide('reviews-modal')\">Cancel</a>\n                    <button type=\"submit\" class=\"btn btn-primary btn-border btn-save\">Save\n                        <img v-show=\"account.status.updatingTestimonials\"  src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                    </button>\n                </div>\n\n            </form>\n        </ValidationObserver>\n    </b-modal>\n\n</template>\n\n\n<script>\n\n    import {mapActions, mapState} from \"vuex\";\n\n    export default {\n        name: 'ReviewsPopup',\n        data() {\n            return {\n                submitted: false,\n                data: {\n                    testimonials: []\n                }\n            }\n        },\n        props: ['profileProp'],\n        watch: {\n            'account.status': function (val) {\n                if(val.updatedTestimonials)\n                    this.$bvModal.hide('reviews-modal');\n            }\n        },\n        computed: {\n            ...mapState({\n                alert: state => state.alert,\n                account: state => state.account\n            }),\n            isActiveReviewerMinus: function () {\n                return this.data.testimonials.length > 0;\n            },\n        },\n        methods: {\n            ...mapActions('account', ['updateTestimonials']),\n            ...mapActions('alert', ['clear']),\n            addTestimonial: function() {\n                this.data.testimonials.push({\n                    id: Date.now(),\n                    stars: 0,\n                    reviewerName: \"\",\n                    reviewerDescription: \"\",\n                    url: \"\",\n                    testimonial: \"\"\n                });\n            },\n            initModal() {\n                this.submitted = false;\n                this.data = {\n                    testimonials: JSON.parse(JSON.stringify(this.profileProp.testimonials))\n                };\n                if(this.data.testimonials.length === 0)\n                    this.addTestimonial();\n                this.clear();\n\n            },\n            deleteTestimonial: function() {\n                if(this.data.testimonials.length > 0) {\n                    this.data.testimonials.pop();\n                }\n            },\n            saveForm(){\n                this.submitted = true;\n                this.$refs.form.validate().then(success => {\n                    if (!success) {\n                        return;\n                    }\n                    this.updateTestimonials(this.data);\n                });\n\n            }\n        }\n    }\n\n</script>\n"],"sourceRoot":"src/components/profile/popups"}]}