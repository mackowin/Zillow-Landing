{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ProblemCardsPopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ProblemCardsPopup.vue","mtime":1661713426938},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbmF0YWxpYW1hY2tvd2lhay9Eb2N1bWVudHMvU3RhcnR1cC9UdXRvcnMvQ29kZS9UdXRvbXktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1Ym1pdHRlZDogZmFsc2UsCiAgICAgIGRhdGE6IHsKICAgICAgICBwcm9ibGVtQ2FyZHM6IFtdCiAgICAgIH0KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJ2FjY291bnQuc3RhdHVzJzogZnVuY3Rpb24gYWNjb3VudFN0YXR1cyh2YWwpIHsKICAgICAgaWYgKHZhbC51cGRhdGluZ1Byb2JsZW1DYXJkc0Zvcm0pIHRoaXMuJGJ2TW9kYWwuaGlkZSgncHJvYmxlbS1jYXJkcy1tb2RhbCcpOwogICAgfQogIH0sCiAgcHJvcHM6IFsncHJvZmlsZVByb3AnXSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBhbGVydDogZnVuY3Rpb24gYWxlcnQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFsZXJ0OwogICAgfSwKICAgIGFjY291bnQ6IGZ1bmN0aW9uIGFjY291bnQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFjY291bnQ7CiAgICB9CiAgfSkpLCB7fSwgewogICAgaXNBY3RpdmVDYXJkTWludXM6IGZ1bmN0aW9uIGlzQWN0aXZlQ2FyZE1pbnVzKCkgewogICAgICByZXR1cm4gdGhpcy5kYXRhLnByb2JsZW1DYXJkcy5sZW5ndGggPiAwOwogICAgfSwKICAgIGNvdW50c0J5SWQ6IGZ1bmN0aW9uIGNvdW50c0J5SWQoKSB7CiAgICAgIHZhciBjb3VudHMgPSB7fTsKICAgICAgdGhpcy5kYXRhLnByb2JsZW1DYXJkcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9ibGVtQ2FyZCkgewogICAgICAgIHZhciBhbnN3ZXIgPSBwcm9ibGVtQ2FyZC5hbnN3ZXI7CgogICAgICAgIGlmIChhbnN3ZXIpIHsKICAgICAgICAgIGNvdW50c1twcm9ibGVtQ2FyZC5pZF0gPSBhbnN3ZXIucmVwbGFjZSgvKF5ccyopfChccyokKS9naSwgIiIpOwogICAgICAgICAgY291bnRzW3Byb2JsZW1DYXJkLmlkXSA9IGNvdW50c1twcm9ibGVtQ2FyZC5pZF0ucmVwbGFjZSgvWyBdezIsfS9naSwgIiAiKTsKICAgICAgICAgIGNvdW50c1twcm9ibGVtQ2FyZC5pZF0gPSBjb3VudHNbcHJvYmxlbUNhcmQuaWRdLnJlcGxhY2UoL1xuIC8sICJcbiIpOwogICAgICAgICAgY291bnRzW3Byb2JsZW1DYXJkLmlkXSA9IGNvdW50c1twcm9ibGVtQ2FyZC5pZF0uc3BsaXQoJyAnKS5sZW5ndGg7CiAgICAgICAgfSBlbHNlIGNvdW50c1twcm9ibGVtQ2FyZC5pZF0gPSAwOwogICAgICB9KTsKICAgICAgcmV0dXJuIGNvdW50czsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygnYWNjb3VudCcsIFsndXBkYXRlUHJvYmxlbUNhcmRzJ10pKSwgbWFwQWN0aW9ucygnYWxlcnQnLCBbJ2NsZWFyJ10pKSwge30sIHsKICAgIGluaXRNb2RhbDogZnVuY3Rpb24gaW5pdE1vZGFsKCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICB0aGlzLmRhdGEgPSB7CiAgICAgICAgcHJvYmxlbUNhcmRzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucHJvZmlsZVByb3AucHJvYmxlbUNhcmRzKSkKICAgICAgfTsKICAgICAgaWYgKHRoaXMuZGF0YS5wcm9ibGVtQ2FyZHMubGVuZ3RoID09PSAwKSB0aGlzLmFkZFByb2JsZW1DYXJkKCk7CiAgICAgIHRoaXMuY2xlYXIoKTsKICAgIH0sCiAgICBhZGRQcm9ibGVtQ2FyZDogZnVuY3Rpb24gYWRkUHJvYmxlbUNhcmQoKSB7CiAgICAgIHRoaXMuZGF0YS5wcm9ibGVtQ2FyZHMucHVzaCh7CiAgICAgICAgaWQ6IERhdGUubm93KCksCiAgICAgICAgcXVlc3Rpb246ICIiLAogICAgICAgIGFuc3dlcjogIiIKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlUHJvYmxlbUNhcmQ6IGZ1bmN0aW9uIGRlbGV0ZVByb2JsZW1DYXJkKCkgewogICAgICBpZiAodGhpcy5kYXRhLnByb2JsZW1DYXJkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5kYXRhLnByb2JsZW1DYXJkcy5wb3AoKTsKICAgICAgfQogICAgfSwKICAgIHNhdmVGb3JtOiBmdW5jdGlvbiBzYXZlRm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkudGhlbihmdW5jdGlvbiAoc3VjY2VzcykgewogICAgICAgIGlmICghc3VjY2VzcyB8fCBfdGhpcy5kYXRhLnByb2JsZW1DYXJkcy5zb21lKGZ1bmN0aW9uIChjYXJkKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuY291bnRzQnlJZFtjYXJkLmlkXSA+IDcwOwogICAgICAgIH0pKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpcy51cGRhdGVQcm9ibGVtQ2FyZHMoX3RoaXMuZGF0YSk7CiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["ProblemCardsPopup.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\n    <b-modal @show=\"initModal\"  id=\"problem-cards-modal\" title=\"Teaching expertise\" hide-footer>\n        <div v-if=\"alert.failed\" :class=\"`alert ${alert.type}`\">{{alert.message}}</div>\n        <ValidationObserver ref=\"form\">\n            <form id=\"problem-cards-popup\" class=\"cms\" @submit.prevent=\"saveForm\" novalidate>\n                <div class=\"form-group\" id=\"problemCards\" v-for=\"problemCard in data.problemCards\" :key=\"problemCard.id\">\n\n                    <div class=\"form-group\">\n                        <label for=\"select\">Select or type your question</label>\n                        <ValidationProvider  rules=\"required\" v-slot=\"{ errors }\" >\n                            <input class=\"form-control\" list=\"select\" id=\"question\" v-model=\"problemCard.question\" :class=\"{ 'is-invalid': submitted && errors.length }\">\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Question is required</div>\n                        </ValidationProvider>\n                            <datalist id=\"select\">\n                                <option>Type your own question</option>\n                                <option>What is your tutoring style?</option>\n                                <option>How will my child learn through online learning</option>\n                                <option>How can I practice by myself between the lessons?</option>\n                                <option>How do you motivate students?</option>\n                                <option>How do you help students focus?</option>\n                                <option>How to learn definitions?</option>\n                                <option>How do you teach &lt;your subject&gt;?</option>\n                                <option>What is the best way to learn &lt;topic&gt;?</option>\n                                <option>How to remember multiplication tables?</option>\n                                <option>How to practice spelling?</option>\n                                <option>How do you teach kids to read?</option>\n                            </datalist>\n                    </div>\n\n                    <div class=\"form-group\">\n                        <label for=\"answer\">Answer - max 70 words</label>\n                        <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                            <textarea class=\"form-control\" id=\"answer\" v-model=\"problemCard.answer\" rows=\"5\" :class=\"{ 'is-invalid': submitted &&  (errors.length || countsById[problemCard.id] > 70) }\"></textarea>\n                            <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Answer is required</div>\n                        </ValidationProvider>\n                        <div :style=\"[countsById[problemCard.id] > 70 ? {'color': '#dc3545'} : {'color': '#949494'}]\" class=\"count-words\"><span id=\"show\">{{countsById[problemCard.id]}}</span> /70</div>\n                    </div>\n                </div>\n\n                <div class=\"plus-minus\">\n                    <font-awesome-icon class=\"icon active\" icon=\"plus-circle\" v-on:click=\"addProblemCard\" />\n                    <font-awesome-icon class=\"icon\" icon=\"minus-circle\" v-bind:class=\"[isActiveCardMinus ? 'active' : 'disabled']\" v-on:click=\"deleteProblemCard\" />\n                </div>\n                <p class=\"plus-minus-comment\">Problem card</p>\n\n                <div class=\"btn-container\">\n                    <a class=\"btn btn-primary btn-border btn-cancel\" @click=\"$bvModal.hide('problem-cards-modal')\">Cancel</a>\n                    <button type=\"submit\"  class=\"btn btn-primary btn-border btn-save\" :disabled=\"account.status.updatingProblemCardsForm\">Save\n                        <img v-show=\"account.status.updatingProblemCardsForm\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                    </button>\n                </div>\n            </form>\n        </ValidationObserver>\n    </b-modal>\n\n</template>\n\n\n\n\n<script>\n\n\n    import {mapActions, mapState} from \"vuex\";\n\n  export default {\n      data() {\n          return {\n              submitted: false,\n              data: {\n                  problemCards: []\n              }\n          }\n      },\n      watch: {\n          'account.status': function (val) {\n              if(val.updatingProblemCardsForm)\n                  this.$bvModal.hide('problem-cards-modal');\n          }\n      },\n      props: ['profileProp'],\n      computed: {\n          ...mapState({\n              alert: state => state.alert,\n              account: state => state.account\n          }),\n          isActiveCardMinus: function () {\n              return this.data.problemCards.length > 0;\n          },\n          countsById() {\n              const counts = {};\n              this.data.problemCards.forEach((problemCard) => {\n                  const answer = problemCard.answer;\n                  if (answer) {\n                      counts[problemCard.id] = answer.replace(/(^\\s*)|(\\s*$)/gi, \"\");\n                      counts[problemCard.id] = counts[problemCard.id].replace(/[ ]{2,}/gi, \" \");\n                      counts[problemCard.id] = counts[problemCard.id].replace(/\\n /, \"\\n\");\n                      counts[problemCard.id] = counts[problemCard.id].split(' ').length;\n                  } else counts[problemCard.id] = 0;\n              });\n              return counts;\n          }\n\n      },\n      methods: {\n          ...mapActions('account', ['updateProblemCards']),\n          ...mapActions('alert', ['clear']),\n          initModal() {\n              this.submitted = false;\n              this.data = {\n                  problemCards: JSON.parse(JSON.stringify(this.profileProp.problemCards)),\n              };\n              if(this.data.problemCards.length === 0)\n                  this.addProblemCard();\n              this.clear();\n          },\n          addProblemCard: function() {\n              this.data.problemCards.push({\n                  id: Date.now(),\n                  question: \"\",\n                  answer: \"\"\n              });\n          },\n          deleteProblemCard: function() {\n              if(this.data.problemCards.length > 0) {\n                  this.data.problemCards.pop();\n              }\n          },\n          saveForm(){\n              this.submitted = true;\n              this.$refs.form.validate().then(success => {\n                  if (!success || this.data.problemCards.some(card => this.countsById[card.id] > 70)) {\n                      return;\n                  }\n                  this.updateProblemCards(this.data);\n              });\n\n          }\n      }\n  }\n\n</script>\n"],"sourceRoot":"src/components/profile/popups"}]}