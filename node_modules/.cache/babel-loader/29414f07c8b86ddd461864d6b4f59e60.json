{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ContactPopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/src/components/profile/popups/ContactPopup.vue","mtime":1651859070643},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Tutors/Code/Tutomy-frontend/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9uYXRhbGlhbWFja293aWFrL0RvY3VtZW50cy9TdGFydHVwL1R1dG9ycy9Db2RlL1R1dG9teS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBjb25maWcgZnJvbSAiLi4vLi4vLi4vY29uZmlnL2NvbmZpZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29udGFjdFBvcHVwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGFjdF9uYW1lOiAnJywKICAgICAgY29udGFjdF9lbWFpbDogJycsCiAgICAgIGNvbnRhY3RfbWVzc2FnZTogJycsCiAgICAgIHNob3dfY29udGFjdDogdHJ1ZSwKICAgICAgY29udGFjdF9ub3RpY2U6ICcnCiAgICB9OwogIH0sCiAgcHJvcHM6IFsnZW1haWwnLCAnY21zVG9nZ2xlJ10sCiAgbWV0aG9kczogewogICAgc2VuZENvbnRhY3RNZXNzYWdlOiBmdW5jdGlvbiBzZW5kQ29udGFjdE1lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB1cmwsIHJlcXVlc3RPcHRpb25zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMudmFsaWRhdGVFbWFpbChfdGhpcy5jb250YWN0X2VtYWlsKSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5jb250YWN0X25vdGljZSA9ICJUaGUgZW1haWwgYWRkcmVzcyBpcyBiYWRseSBmb3JtYXR0ZWQuIjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHVybCA9ICIiLmNvbmNhdChjb25maWcuYXBpVXJsLCAiL2NvbnRhY3QvcHJvZmlsZSIpOwogICAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBfdGhpcy5jb250YWN0X25hbWUsCiAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBfdGhpcy5jb250YWN0X2VtYWlsLAogICAgICAgICAgICAgICAgICAgICAgdG86IF90aGlzLmVtYWlsLAogICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3RoaXMuY29udGFjdF9tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgZmV0Y2godXJsLCByZXF1ZXN0T3B0aW9ucykudGhlbihfdGhpcy5oYW5kbGVSZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB2YWxpZGF0ZUVtYWlsOiBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKGVtYWlsKSB7CiAgICAgIHZhciByZSA9IC9cUytAXFMrXC5cUysvOwogICAgICByZXR1cm4gcmUudGVzdChTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpOwogICAgfSwKICAgIGhhbmRsZVJlc3BvbnNlOiBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShyZXNwb25zZSkgewogICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgdGhpcy5jb250YWN0X25vdGljZSA9ICJXZSdsbCBnZXQgYmFjayB0byB5b3UgYXMgc29vbiBhcyB3ZSBjYW4uIjsKICAgICAgICB2YXIgdXJsID0gIiIuY29uY2F0KGNvbmZpZy5hcGlVcmwsICIvY29udGFjdC9sYW5kaW5nIik7CiAgICAgICAgdmFyIHJlcXVlc3RPcHRpb25zID0gewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICAgIH0sCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIG5hbWU6IHRoaXMuY29udGFjdF9uYW1lLAogICAgICAgICAgICBlbWFpbDogdGhpcy5jb250YWN0X2VtYWlsLAogICAgICAgICAgICBtZXNzYWdlOiAnUHJvYmxlbSB3aXRoIHNlbmRpbmcgbWVzc2FnZTonICsgdGhpcy5jb250YWN0X21lc3NhZ2UgKyAnVHV0b3IgZW1haWw6JyArIHRoaXMuZW1haWwgKyAnU2VuZGVyIGVtYWlsOicgKyB0aGlzLmNvbnRhY3RfZW1haWwKICAgICAgICAgIH0pCiAgICAgICAgfTsKICAgICAgICBmZXRjaCh1cmwsIHJlcXVlc3RPcHRpb25zKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dfY29udGFjdCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgaW5pdE1vZGFsOiBmdW5jdGlvbiBpbml0TW9kYWwoKSB7CiAgICAgIHRoaXMuc2hvd19jb250YWN0ID0gdHJ1ZTsKICAgICAgdGhpcy5jb250YWN0X25hbWUgPSAnJzsKICAgICAgdGhpcy5jb250YWN0X2VtYWlsID0gJyc7CiAgICAgIHRoaXMuY29udGFjdF9tZXNzYWdlID0gJyc7CiAgICAgIHRoaXMuY29udGFjdF9ub3RpY2UgPSAnJzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ContactPopup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,OAAA,MAAA,MAAA,wBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA,EAFA;AAGA,MAAA,eAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA,IAJA;AAKA,MAAA,cAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,KAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,gCACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oBAAA,CAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,aAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,cAAA,GAAA,uCAAA;AACA,iBAFA,MAEA;AACA,kBAAA,GADA,aACA,MAAA,CAAA,MADA;AAEA,kBAAA,cAFA,GAEA;AACA,oBAAA,MAAA,EAAA,MADA;AAEA,oBAAA,OAAA,EAAA;AAAA,sCAAA;AAAA,qBAFA;AAGA,oBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AAAA,sBAAA,IAAA,EAAA,KAAA,CAAA,YAAA;AAAA,sBAAA,IAAA,EAAA,KAAA,CAAA,aAAA;AAAA,sBAAA,EAAA,EAAA,KAAA,CAAA,KAAA;AAAA,sBAAA,OAAA,EAAA,KAAA,CAAA;AAAA,qBAAA;AAHA,mBAFA;AAOA,kBAAA,KAAA,CAAA,GAAA,EAAA,cAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,cAAA;AACA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,KAbA;AAcA,IAAA,aAdA,yBAcA,KAdA,EAcA;AACA,UAAA,EAAA,GAAA,cAAA;AACA,aAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,WAAA,EAAA,CAAA;AACA,KAjBA;AAkBA,IAAA,cAlBA,0BAkBA,QAlBA,EAkBA;AACA,UAAA,CAAA,QAAA,CAAA,EAAA,EAAA;AACA,aAAA,cAAA,GAAA,0CAAA;AACA,YAAA,GAAA,aAAA,MAAA,CAAA,MAAA,qBAAA;AACA,YAAA,cAAA,GAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,OAAA,EAAA;AAAA,4BAAA;AAAA,WAFA;AAGA,UAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AAAA,YAAA,IAAA,EAAA,KAAA,YAAA;AAAA,YAAA,KAAA,EAAA,KAAA,aAAA;AAAA,YAAA,OAAA,EAAA,kCAAA,KAAA,eAAA,GAAA,cAAA,GAAA,KAAA,KAAA,GAAA,eAAA,GAAA,KAAA;AAAA,WAAA;AAHA,SAAA;AAKA,QAAA,KAAA,CAAA,GAAA,EAAA,cAAA,CAAA;AAEA,OAVA,MAUA;AACA,aAAA,YAAA,GAAA,KAAA;AACA;AACA,KAhCA;AAiCA,IAAA,SAjCA,uBAiCA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,WAAA,YAAA,GAAA,EAAA;AACA,WAAA,aAAA,GAAA,EAAA;AACA,WAAA,eAAA,GAAA,EAAA;AACA,WAAA,cAAA,GAAA,EAAA;AACA;AAvCA;AAZA,CAAA","sourcesContent":["<template>\n\n    <b-modal @show=\"initModal\"  id=\"contact-modal\" title=\"Contact me\" hide-footer>\n        <div v-if=\"show_contact && contact_notice != ''\" class=\"alert alert-warning\">\n            There was a problem submitting your message. {{ contact_notice }}\n        </div>\n\n        <div v-if=\"cmsToggle\" class=\"alert alert-warning\">\n           Form is disabled in edit mode, access in PREVIEW\n        </div>\n        <form v-if=\"show_contact\" id=\"contactModal\" @submit.prevent=\"sendContactMessage()\">\n            <div class=\"row\">\n                <div class=\"col-lg-12 col-md-12\">\n                    <div class=\"form-group\">\n                        <input type=\"text\" v-model=\"contact_name\" name=\"name\" id=\"name\" class=\"form-control\" required data-error=\"Please enter your name\" placeholder=\"Name\">\n                        <div class=\"help-block with-errors\"></div>\n                    </div>\n                </div>\n\n                <div class=\"col-lg-12 col-md-12\">\n                    <div class=\"form-group\">\n                        <input type=\"email\" v-model=\"contact_email\" name=\"email\" id=\"email\" class=\"form-control\" required data-error=\"Please enter your email\" placeholder=\"Email\">\n                        <div class=\"help-block with-errors\"></div>\n                    </div>\n                </div>\n\n                <div class=\"col-lg-12 col-md-12\">\n                    <div class=\"form-group\">\n                        <textarea name=\"message\" v-model=\"contact_message\" class=\"form-control\" id=\"message\" cols=\"30\" rows=\"5\" required data-error=\"Write your message\" placeholder=\"Your Message\"></textarea>\n                        <div class=\"help-block with-errors\"></div>\n                    </div>\n                </div>\n\n                <div class=\"col-lg-12 col-md-12 d-flex btn-profile btn-contact justify-content-center justify-content-lg-end\">\n                    <button type=\"submit\" class=\"btn btn-primary inner\" :disabled=\"cmsToggle || !email\" style=\"margin: 0px\">Send Message</button>\n\n                    <div id=\"msgSubmit\" class=\"h3 text-center hidden\"></div>\n                    <div class=\"clearfix\"></div>\n                </div>\n            </div>\n        </form>\n        <div v-else>\n            <h4>Message Sent Successfully!</h4>\n            <p>Thank you for contacting, I'll get back to you as soon as I can.</p>\n        </div>\n    </b-modal>\n\n</template>\n\n\n<script>\n\n    import config  from \"../../../config/config\";\n\n    export default {\n        name: 'ContactPopup',\n        data() {\n            return {\n                contact_name: '',\n                contact_email: '',\n                contact_message: '',\n                show_contact: true,\n                contact_notice: ''\n            }\n        },\n        props: ['email', 'cmsToggle'],\n        methods: {\n            async sendContactMessage() {\n                if(!this.validateEmail(this.contact_email)) {\n                    this.contact_notice = \"The email address is badly formatted.\";\n                } else {\n                    const url = `${config.apiUrl}/contact/profile`;\n                    const requestOptions = {\n                        method: \"POST\",\n                        headers: {\"Content-Type\" : \"application/json\"},\n                        body: JSON.stringify({ name: this.contact_name, from: this.contact_email, to: this.email, message: this.contact_message })\n                    };\n                    fetch(url, requestOptions).then(this.handleResponse)\n                }\n            },\n            validateEmail(email) {\n                var re = /\\S+@\\S+\\.\\S+/;\n                return re.test(String(email).toLowerCase());\n            },\n            handleResponse(response) {\n                if (!response.ok) {\n                    this.contact_notice = \"We'll get back to you as soon as we can.\";\n                    const url = `${config.apiUrl}/contact/landing`;\n                    const requestOptions = {\n                        method: \"POST\",\n                        headers: {\"Content-Type\" : \"application/json\"},\n                        body: JSON.stringify({ name: this.contact_name, email: this.contact_email, message:  'Problem with sending message:' + this.contact_message  + 'Tutor email:' + this.email + 'Sender email:' + this.contact_email})\n                    };\n                    fetch(url, requestOptions)\n\n                } else {\n                    this.show_contact = false;\n                }\n            },\n            initModal() {\n                this.show_contact = true;\n                this.contact_name = '';\n                this.contact_email = '';\n                this.contact_message = '';\n                this.contact_notice = '';\n            }\n\n        }\n    }\n</script>\n"],"sourceRoot":"src/components/profile/popups"}]}