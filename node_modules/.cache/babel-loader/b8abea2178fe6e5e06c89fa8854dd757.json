{"remainingRequest":"/Users/nataliamackowiak/Documents/Startup/Ideas/node_modules/babel-loader/lib/index.js!/Users/nataliamackowiak/Documents/Startup/Ideas/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nataliamackowiak/Documents/Startup/Ideas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nataliamackowiak/Documents/Startup/Ideas/src/ideas/green-card/GreenCardApplication.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nataliamackowiak/Documents/Startup/Ideas/src/ideas/green-card/GreenCardApplication.vue","mtime":1669230277920},{"path":"/Users/nataliamackowiak/Documents/Startup/Ideas/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Ideas/node_modules/babel-loader/lib/index.js","mtime":1611962706532},{"path":"/Users/nataliamackowiak/Documents/Startup/Ideas/node_modules/cache-loader/dist/cjs.js","mtime":1611962706588},{"path":"/Users/nataliamackowiak/Documents/Startup/Ideas/node_modules/vue-loader/lib/index.js","mtime":1611962713166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9uYXRhbGlhbWFja293aWFrL0RvY3VtZW50cy9TdGFydHVwL0lkZWFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7CiAgICAgICAgZmlyc3RMYXN0TmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHJlc2lkZW5jZTogJycsCiAgICAgICAgdmlzYTogJycsCiAgICAgICAgYmlydGg6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBkb2N1bWVudDogJycsCiAgICAgICAgZmlsZU5hbWU6ICcnCiAgICAgIH0sCiAgICAgIHN1Ym1pdHRlZDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgYWNjb3VudDogZnVuY3Rpb24gYWNjb3VudChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYWNjb3VudDsKICAgIH0KICB9KSksCiAgd2F0Y2g6IHsKICAgICdhY2NvdW50LnN0YXR1cyc6IGZ1bmN0aW9uIGFjY291bnRTdGF0dXModmFsKSB7CiAgICAgIGlmICh2YWwuYXBwbGllZCkgdGhpcy5nb1RvRmluYWxQYWdlKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoJ2FjY291bnQnLCBbJ2FwcGx5J10pKSwge30sIHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uIChzdWNjZXNzKSB7CiAgICAgICAgaWYgKCFzdWNjZXNzIHx8ICFfdGhpcy51c2VyLmRvY3VtZW50KSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5hcHBseShfdGhpcy51c2VyKTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0SW1hZ2U6IGZ1bmN0aW9uIHNldEltYWdlKCkgewogICAgICB0aGlzLmdldEJhc2U2NCh0aGlzLiRyZWZzLmZpbGUuZmlsZXNbMF0pOwogICAgfSwKICAgIGdldEJhc2U2NDogZnVuY3Rpb24gZ2V0QmFzZTY0KGZpbGUpIHsKICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CgogICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciByZXMgPSByZWFkZXIucmVzdWx0OwogICAgICAgIHNlbGYudXNlci5kb2N1bWVudCA9IHJlczsKICAgICAgICBzZWxmLnVzZXIuZmlsZU5hbWUgPSBzZWxmLiRyZWZzLmZpbGUuZmlsZXNbMF0ubmFtZTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yOiAnLCBlcnJvcik7CiAgICAgIH07CiAgICB9LAogICAgZ29Ub0ZpbmFsUGFnZTogZnVuY3Rpb24gZ29Ub0ZpbmFsUGFnZSgpIHsKICAgICAgaWYgKCh0aGlzLnVzZXIuYmlydGggPT09ICdDaGluYScgfHwgdGhpcy51c2VyLmJpcnRoID09PSAnSW5kaWEnKSAmJiB0aGlzLnVzZXIuZmlyc3RMYXN0TmFtZSAmJiB0aGlzLnVzZXIuZW1haWwgJiYgdGhpcy51c2VyLnJlc2lkZW5jZSAmJiB0aGlzLnVzZXIudmlzYSAmJiB0aGlzLnVzZXIuZG9jdW1lbnQpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2NvbmZpcm1lZCcpOwogICAgICB9IGVsc2UgaWYgKCh0aGlzLnVzZXIuYmlydGggPT09ICdDb3VudHJ5IGluIEV1cm9wZScgfHwgdGhpcy51c2VyLmJpcnRoID09PSAnQ291bnRyeSBpbiBTb3V0aCBBbWVyaWNhJyB8fCB0aGlzLnVzZXIuYmlydGggPT09ICdPdGhlcicpICYmIHRoaXMudXNlci5maXJzdExhc3ROYW1lICYmIHRoaXMudXNlci5lbWFpbCAmJiB0aGlzLnVzZXIucmVzaWRlbmNlICYmIHRoaXMudXNlci52aXNhICYmIHRoaXMudXNlci5kb2N1bWVudCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY29uZmlybWF0aW9uJyk7CiAgICAgIH0KICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["GreenCardApplication.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"jumbotron\" style=\"height: 100%; background: rgb(249, 246, 246)\">\n        <div class=\"container register\">\n            <div class=\"row\">\n                <div class=\"col-lg-6 col-md-8 col-sm-12 offset-lg-3 offset-md-2\">\n                    <h3>How much it will cost me?</h3>\n                    <div class=\"subject-subcategories\" style=\"text-align: left\">\n                        <div class=\"register-conditions\" style=\"font-weight: 400; text-align: justify; text-justify: inter-word;\">\n                            Provide details about your case to get personalized price assessment\n                        </div>\n                    </div>\n\n                    <ValidationObserver ref=\"form\">\n                        <form @submit.prevent=\"handleSubmit\" novalidate>\n                            <div class=\"form-group\">\n                                <label for=\"firstLastName\">Name</label>\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                    <input type=\"text\" v-model=\"user.firstLastName\"  name=\"firstLastName\" class=\"form-control\" :class=\"{ 'is-invalid':  submitted && errors.length }\" />\n                                    <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Name is required</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"email\">E-mail</label>\n                                <ValidationProvider rules=\"required|email\" v-slot=\"{ errors }\" >\n                                    <input type=\"text\" v-model=\"user.email\"  name=\"email\" class=\"form-control\" aria-describedby=\"emailHelp\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                                    <div v-if=\"submitted && errors.includes('required')\" class=\"invalid-feedback\">Email is required</div>\n                                    <div v-if=\"submitted && errors.includes('email')\" class=\"invalid-feedback\">Email has wrong format</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"residence\">Where are you currently residing?</label>\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                    <select v-model=\"user.residence\" id=\"residence\" name=\"residence\" class=\"form-control\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                                        <option>USA</option>\n                                        <option>Overseas</option>\n                                    </select>\n                                    <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Current residence is required</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"visa\">What US visa do you hold?</label>\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                    <input type=\"text\" v-model=\"user.visa\"  name=\"visa\" class=\"form-control\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                                    <div v-if=\"submitted && errors.includes('required')\" class=\"invalid-feedback\">Visa is required</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"birth\">Country of birth</label>\n                                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" >\n                                    <select v-model=\"user.birth\" id=\"birth\" name=\"birth\" class=\"form-control\" :class=\"{ 'is-invalid':  submitted && errors.length }\">\n                                        <option>Country in Europe</option>\n                                        <option>Country in South America</option>\n                                        <option>China</option>\n                                        <option>India</option>\n                                        <option>Other</option>\n                                    </select>\n                                    <div v-if=\"submitted && errors.length\" class=\"invalid-feedback\">Country of birth is required</div>\n                                </ValidationProvider>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"description\">Describe your case</label>\n                                <textarea v-model=\"user.description\" name=\"description\" rows=\"5\" class=\"form-control\" />\n                            </div>\n\n                            <div class=\"form-group icon-container\" style=\"margin-top: 1rem\">\n                                <label for=\"upload\" class=\"icon\" style=\"font-size: 2.5rem; cursor: pointer;\"><font-awesome-icon icon=\"file-upload\" />\n                                    <span class=\"icon\" style=\"font-size: 14px; margin-left: 10px;\">Upload Resume</span>\n                                </label>\n\n                              <input type=\"file\" class=\"form-control-file\" id=\"upload\" ref=\"file\" @change=\"setImage\"  style=\"display: none;\" :class=\"{ 'is-invalid':  submitted && !user.document }\">\n                              <div v-if=\"submitted && !user.document\" class=\"invalid-feedback\">Resume or CV is required</div>\n                              <p class=\"register-conditions\" style=\"font-weight: 400\" v-if=\"user.document\">Uploaded: {{this.$refs.file.files[0].name}}</p>\n\n                            </div>\n\n                            <div class=\"btn-container\">\n                                <router-link to=\"/\" class=\"btn btn-border btn-cancel\">Cancel</router-link>\n                                <button class=\"btn btn-primary btn-border btn-save\" :disabled=\"account.status.applying\">SUBMIT\n                                    <img v-show=\"account.status.applying\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                                </button>\n                            </div>\n                        </form>\n                    </ValidationObserver>\n\n                </div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  data () {\n    return {\n      user: {\n        firstLastName: '',\n        email: '',\n        residence: '',\n        visa: '',\n        birth: '',\n        description: '',\n        document: '',\n        fileName: ''\n      },\n      submitted: false\n    }\n  },\n  computed: {\n    ...mapState({\n      account: state => state.account,\n    })\n  },\n  watch: {\n    'account.status': function (val) {\n      if(val.applied)\n        this.goToFinalPage();\n    }\n  },\n  methods: {\n    ...mapActions('account', ['apply']),\n    handleSubmit() {\n      this.submitted = true;\n      this.$refs.form.validate().then(success => {\n        if (!success || !this.user.document) {\n          return;\n        }\n        this.apply(this.user);\n      });\n    },\n    setImage() {\n      this.getBase64(this.$refs.file.files[0]);\n    },\n    getBase64(file) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n      const self = this;\n      reader.onload = function () {\n        const res = reader.result;\n        self.user.document = res;\n        self.user.fileName = self.$refs.file.files[0].name;\n      };\n      reader.onerror = function (error) {\n        console.log('Error: ', error);\n      };\n    },\n    goToFinalPage(){\n      if((this.user.birth === 'China' || this.user.birth === 'India') && this.user.firstLastName && this.user.email && this.user.residence && this.user.visa && this.user.document) {\n          this.$router.push('/confirmed');\n      } else if ((this.user.birth === 'Country in Europe' || this.user.birth === 'Country in South America' || this.user.birth === 'Other') && this.user.firstLastName && this.user.email && this.user.residence && this.user.visa && this.user.document) {\n          this.$router.push('/confirmation');\n      }\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/ideas/green-card"}]}